{
  "id": "0309076c-88a2-4451-8792-e43824546515",
  "revision": 0,
  "last_node_id": 154,
  "last_link_id": 313,
  "nodes": [
    {
      "id": 143,
      "type": "ImageScaleBy",
      "pos": [
        2790,
        -170
      ],
      "size": [
        210,
        82
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 307
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            308
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "ImageScaleBy",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "nearest-exact",
        1.5000000000000002
      ]
    },
    {
      "id": 13,
      "type": "VAEDecode",
      "pos": [
        2140,
        90
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 14
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 269
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            15,
            307
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 146,
      "type": "Note",
      "pos": [
        2040,
        490
      ],
      "size": [
        350,
        140
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- Schnell steps should be 3-6, Dev 6-12\n\n<-- CFG should be 1.0 but can go as high as 1.3\n\n<-- dpmpp_2m is best but could be dpm_2 or euler\n\n<-- simple or beta"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 43,
      "type": "ConditioningConcat",
      "pos": [
        3750,
        1320
      ],
      "size": [
        253.60000610351562,
        46
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning_to",
          "type": "CONDITIONING",
          "link": 77
        },
        {
          "name": "conditioning_from",
          "type": "CONDITIONING",
          "link": 78
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            281,
            304
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.15",
        "Node name for S&R": "ConditioningConcat",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 45,
      "type": "CLIPTextEncode",
      "pos": [
        3430,
        1330
      ],
      "size": [
        260,
        90
      ],
      "flags": {
        "collapsed": true
      },
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 120
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 82
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            77
          ]
        }
      ],
      "title": "Refining Prompt CLIP Text Encode",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.15",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {
          "text": true
        }
      },
      "widgets_values": [
        "(red lipstick, stunning blue eyes)"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 37,
      "type": "CLIPTextEncode",
      "pos": [
        3430,
        1370
      ],
      "size": [
        250,
        90
      ],
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 121
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 250
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            78
          ]
        }
      ],
      "title": "Base Prompt CLIP Text Encode",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.15",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {
          "text": true
        }
      },
      "widgets_values": [
        "amateur photo, jpg, candid, beautiful, strange, woman, night, city, wonderful, colorful, exotic look"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 39,
      "type": "CLIPTextEncode",
      "pos": [
        3430,
        620
      ],
      "size": [
        270,
        90
      ],
      "flags": {
        "collapsed": false
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 119
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            282,
            305
          ]
        }
      ],
      "title": "Refining Negative Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.15",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        ""
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 58,
      "type": "CLIPSetLastLayer",
      "pos": [
        3720,
        1210
      ],
      "size": [
        350,
        60
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 118
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            119,
            120,
            121
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "CLIPSetLastLayer",
        "widget_ue_connectable": {
          "stop_at_clip_layer": true
        }
      },
      "widgets_values": [
        -2
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 149,
      "type": "Note",
      "pos": [
        4080,
        1230
      ],
      "size": [
        270,
        88
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- The CLIP Skip setting in the refiner will have more of an effect with a higher denoise. -2 is the default for SDXL but anywhere from -1 to -5 can make some subtle differences."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 148,
      "type": "Note",
      "pos": [
        4090,
        570
      ],
      "size": [
        260,
        260
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- Steps can be 6-12\n\n<-- CFG 1.0-1.3\n\n<-- LCM is best for DMD models\n\n<-- Can be Karras, Exponential, or Beta\n\n<-- 0.25-0.40 is a good range depending on how much extra detail you want to apply to the base image. Finding the optimal setting can depend on the image and seed so it may take a little trial and error. It's a good strategy to keep a fixed seed in the base image and try different denoise settings in the refiner sampler until you find the denoise that works best for you."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 139,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        4080,
        -1200
      ],
      "size": [
        210,
        78
      ],
      "flags": {
        "collapsed": false
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            295
          ]
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            297
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-subpack",
        "ver": "1.3.2",
        "Node name for S&R": "UltralyticsDetectorProvider",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ]
    },
    {
      "id": 140,
      "type": "SAMLoader",
      "pos": [
        4080,
        -1040
      ],
      "size": [
        210,
        82
      ],
      "flags": {
        "collapsed": false
      },
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            296
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "cd34cfdd638a996fd011be1b490c70a7e0fb505f",
        "Node name for S&R": "SAMLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ]
    },
    {
      "id": 137,
      "type": "FaceDetailer",
      "pos": [
        4330,
        -1210
      ],
      "size": [
        430,
        1168
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 301
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 311
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 302
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 303
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 304
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 305
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 295
        },
        {
          "name": "sam_model_opt",
          "shape": 7,
          "type": "SAM_MODEL",
          "link": 296
        },
        {
          "name": "segm_detector_opt",
          "shape": 7,
          "type": "SEGM_DETECTOR",
          "link": 297
        },
        {
          "name": "detailer_hook",
          "shape": 7,
          "type": "DETAILER_HOOK",
          "link": null
        },
        {
          "name": "scheduler_func_opt",
          "shape": 7,
          "type": "SCHEDULER_FUNC",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            299
          ]
        },
        {
          "name": "cropped_refined",
          "shape": 6,
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "cropped_enhanced_alpha",
          "shape": 6,
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null
        },
        {
          "name": "cnet_images",
          "shape": 6,
          "type": "IMAGE",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "cd34cfdd638a996fd011be1b490c70a7e0fb505f",
        "Node name for S&R": "FaceDetailer",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        true,
        1024,
        364422722110019,
        "randomize",
        8,
        1,
        "lcm",
        "karras",
        0.15000000000000002,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        20,
        false,
        false
      ]
    },
    {
      "id": 150,
      "type": "Note",
      "pos": [
        4780,
        -910
      ],
      "size": [
        290,
        290
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "The Face Detailer is basically another refiner but it will only apply to the face.\n\n<-- Steps can be 6-12\n\n<-- CFG should remain 1.0\n\n<-- LCM\n\n<-- Karras, Exponential, or Beta\n\n<-- Denoise depends on how far the face is from the camera. If it is close then you want to keep denoise low at 0.7-0.15. If the face is farther away and needs more detail added then a higher denoise of 0.2-0.35 may be needed. There is some trial and error to find the right setting but keeping it always at 0.15 can also be a good strategy if you don't want to mess with it."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 128,
      "type": "SaveImage",
      "pos": [
        5120,
        30
      ],
      "size": [
        920,
        1370
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 299
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "SaveImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Flux_v10_Schnell_Refined_%date:yyyy-MM-dd-hhmmss%"
      ]
    },
    {
      "id": 36,
      "type": "CheckpointLoaderSimple",
      "pos": [
        3420,
        80
      ],
      "size": [
        430,
        100
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            309
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            118,
            302
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            285,
            288,
            303
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.15",
        "Node name for S&R": "CheckpointLoaderSimple",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "gonzalomoXLFluxPony_v40UnityXLDMD.safetensors"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 151,
      "type": "PatchModelAddDownscale",
      "pos": [
        3430,
        220
      ],
      "size": [
        401.0572204589844,
        202
      ],
      "flags": {
        "collapsed": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 309
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            310,
            311
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "PatchModelAddDownscale",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        3,
        2,
        0,
        0.35,
        true,
        "bicubic",
        "bicubic"
      ]
    },
    {
      "id": 133,
      "type": "VAEDecode",
      "pos": [
        4160,
        370
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 287
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 288
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            298,
            301
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 132,
      "type": "VAEEncode",
      "pos": [
        4160,
        110
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 308
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 285
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            284
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "VAEEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 47,
      "type": "PrimitiveNode",
      "pos": [
        3430,
        270
      ],
      "size": [
        270,
        300
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "slot_index": 0,
          "links": [
            82
          ]
        }
      ],
      "title": "Refining Positive Prompt",
      "properties": {
        "Run widget replace on values": false,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "(red lipstick, stunning blue eyes)"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 152,
      "type": "Note",
      "pos": [
        3460,
        -200
      ],
      "size": [
        430,
        170
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "*** IMPORTANT NOTE FOR GETTING THE RESULT YOU WANT ***\n\nThe Flux generation and SDXL refiner may not agree on certain physical aspects of the subject. Ethnicity, for instance, may be Asian in the Flux image but get changed to Caucasian in the SDXL refiner. If there are physical attributes you like in the Flux image that SDXL changes then you can simply add those attributes to the Refining Positive Prompt and it will usually apply them.\n\nYou can also keep the denoise low in the refiner so that it changes those attributes less but I normally just add them to the prompt."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 141,
      "type": "PreviewImage",
      "pos": [
        4380,
        110
      ],
      "size": [
        680,
        1210
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 298
        }
      ],
      "outputs": [],
      "title": "Refiner Preview Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 14,
      "type": "PreviewImage",
      "pos": [
        2410,
        80
      ],
      "size": [
        910,
        1300
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 15
        }
      ],
      "outputs": [],
      "title": "Flux Preview Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 130,
      "type": "ConditioningZeroOut",
      "pos": [
        1680,
        1270
      ],
      "size": [
        197.712890625,
        26
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 264
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            265
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "ConditioningZeroOut",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        1680,
        1230
      ],
      "size": [
        210.29940795898438,
        120
      ],
      "flags": {
        "collapsed": true
      },
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 262
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            264
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {
          "text": true
        }
      },
      "widgets_values": [
        ""
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 109,
      "type": "CLIPTextEncode",
      "pos": [
        1680,
        1190
      ],
      "size": [
        350,
        200
      ],
      "flags": {
        "collapsed": true
      },
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 263
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 249
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            253
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "amateur photo, jpg, candid, beautiful, strange, woman, night, city, wonderful, colorful, exotic look"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 3,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1090,
        90
      ],
      "size": [
        420,
        110
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            312
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            262,
            263
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            269
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "CheckpointLoaderSimple",
        "widget_ue_connectable": {
          "ckpt_name": true
        }
      },
      "widgets_values": [
        "gonzalomoXLFluxPony_v10FluxSAIO.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 83,
      "type": "FluxGuidance",
      "pos": [
        1100,
        500
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 253
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            169
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.33",
        "Node name for S&R": "FluxGuidance",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        4.499999999999999
      ]
    },
    {
      "id": 147,
      "type": "Note",
      "pos": [
        1320,
        520
      ],
      "size": [
        250,
        88
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- Schnell ignores guidance. For my Dev models this needs to be 4.0-4.5"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 153,
      "type": "Power Lora Loader (rgthree)",
      "pos": [
        1100,
        260
      ],
      "size": [
        324.8211669921875,
        190
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "model",
          "type": "MODEL",
          "link": 312
        },
        {
          "dir": 3,
          "name": "clip",
          "type": "CLIP",
          "link": null
        }
      ],
      "outputs": [
        {
          "dir": 4,
          "name": "MODEL",
          "shape": 3,
          "type": "MODEL",
          "links": [
            313
          ]
        },
        {
          "dir": 4,
          "name": "CLIP",
          "shape": 3,
          "type": "CLIP",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "84a146fee39f7b3a8c6631dcac29bc13b077eb49",
        "Show Strengths": "Single Strength"
      },
      "widgets_values": [
        {},
        {
          "type": "PowerLoraLoaderHeaderWidget"
        },
        {
          "on": false,
          "lora": "None",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "None",
          "strength": 1,
          "strengthTwo": null
        },
        {
          "on": false,
          "lora": "None",
          "strength": 1,
          "strengthTwo": null
        },
        {},
        ""
      ]
    },
    {
      "id": 144,
      "type": "Note",
      "pos": [
        3020,
        -130
      ],
      "size": [
        290,
        88
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- Change scale_by to the desired upscale amount.\n\nExample, 1.50 would increase the base image by 50%. So 832x1216 would become 1248x1824."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 18,
      "type": "SDXLEmptyLatentSizePicker+",
      "pos": [
        1690,
        100
      ],
      "size": [
        259.8736267089844,
        170
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            19
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "slot_index": 1,
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "slot_index": 2,
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "33ff89fd354d8ec3ab6affb605a79a931b445d99",
        "Node name for S&R": "SDXLEmptyLatentSizePicker+",
        "widget_ue_connectable": {
          "resolution": false
        }
      },
      "widgets_values": [
        "832x1216 (0.68)",
        1,
        0,
        0
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 154,
      "type": "Note",
      "pos": [
        1970,
        200
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- If your machine can handle higher base generations then you can override the width/height to something like 1024x1536 and maybe keep the scale_by in the upscaler to 1.25. The benefit of this is that you get more detail in the base image and can therefore keep the denoise lower in the refiner. Many times this can give the best result in my experience."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 145,
      "type": "Note",
      "pos": [
        3720,
        290
      ],
      "size": [
        350,
        110
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "<-- The refiner uses a positive prompt that gets added on to the base prompt. Here you can help emphasize certain aspects of the final image by including details like\n\"realistic skin detail, skin pores, blemishes, freckles\". The higher the denoise, the more of an impact this prompt will have on the image."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 7,
      "type": "KSampler",
      "pos": [
        1680,
        430
      ],
      "size": [
        350,
        720
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 313
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 169
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 265
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 19
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            14
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "KSampler",
        "widget_ue_connectable": {
          "seed": true,
          "steps": true,
          "cfg": true,
          "sampler_name": true,
          "scheduler": true,
          "denoise": true
        }
      },
      "widgets_values": [
        6,
        "increment",
        5,
        1,
        "dpmpp_2m",
        "simple",
        1
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 131,
      "type": "KSampler",
      "pos": [
        3720,
        450
      ],
      "size": [
        350,
        720
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 310
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 281
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 282
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 284
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            287
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.30",
        "Node name for S&R": "KSampler",
        "widget_ue_connectable": {
          "seed": true,
          "steps": true,
          "cfg": true,
          "sampler_name": true,
          "scheduler": true,
          "denoise": true
        }
      },
      "widgets_values": [
        6,
        "increment",
        8,
        1,
        "lcm",
        "karras",
        0.3500000000000001
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 52,
      "type": "PrimitiveNode",
      "pos": [
        1100,
        640
      ],
      "size": [
        470,
        510
      ],
      "flags": {
        "collapsed": false
      },
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "slot_index": 0,
          "links": [
            249,
            250
          ]
        }
      ],
      "title": "Positive Prompt",
      "properties": {
        "Run widget replace on values": false,
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "amateur photo, jpg, candid, beautiful, strange, woman, night, city, wonderful, colorful, exotic look"
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      14,
      7,
      0,
      13,
      0,
      "LATENT"
    ],
    [
      15,
      13,
      0,
      14,
      0,
      "IMAGE"
    ],
    [
      19,
      18,
      0,
      7,
      3,
      "LATENT"
    ],
    [
      77,
      45,
      0,
      43,
      0,
      "CONDITIONING"
    ],
    [
      78,
      37,
      0,
      43,
      1,
      "CONDITIONING"
    ],
    [
      82,
      47,
      0,
      45,
      1,
      "STRING"
    ],
    [
      118,
      36,
      1,
      58,
      0,
      "CLIP"
    ],
    [
      119,
      58,
      0,
      39,
      0,
      "CLIP"
    ],
    [
      120,
      58,
      0,
      45,
      0,
      "CLIP"
    ],
    [
      121,
      58,
      0,
      37,
      0,
      "CLIP"
    ],
    [
      169,
      83,
      0,
      7,
      1,
      "CONDITIONING"
    ],
    [
      249,
      52,
      0,
      109,
      1,
      "STRING"
    ],
    [
      250,
      52,
      0,
      37,
      1,
      "STRING"
    ],
    [
      253,
      109,
      0,
      83,
      0,
      "CONDITIONING"
    ],
    [
      262,
      3,
      1,
      6,
      0,
      "CLIP"
    ],
    [
      263,
      3,
      1,
      109,
      0,
      "CLIP"
    ],
    [
      264,
      6,
      0,
      130,
      0,
      "CONDITIONING"
    ],
    [
      265,
      130,
      0,
      7,
      2,
      "CONDITIONING"
    ],
    [
      269,
      3,
      2,
      13,
      1,
      "VAE"
    ],
    [
      281,
      43,
      0,
      131,
      1,
      "CONDITIONING"
    ],
    [
      282,
      39,
      0,
      131,
      2,
      "CONDITIONING"
    ],
    [
      284,
      132,
      0,
      131,
      3,
      "LATENT"
    ],
    [
      285,
      36,
      2,
      132,
      1,
      "VAE"
    ],
    [
      287,
      131,
      0,
      133,
      0,
      "LATENT"
    ],
    [
      288,
      36,
      2,
      133,
      1,
      "VAE"
    ],
    [
      295,
      139,
      0,
      137,
      6,
      "BBOX_DETECTOR"
    ],
    [
      296,
      140,
      0,
      137,
      7,
      "SAM_MODEL"
    ],
    [
      297,
      139,
      1,
      137,
      8,
      "SEGM_DETECTOR"
    ],
    [
      298,
      133,
      0,
      141,
      0,
      "IMAGE"
    ],
    [
      299,
      137,
      0,
      128,
      0,
      "IMAGE"
    ],
    [
      301,
      133,
      0,
      137,
      0,
      "IMAGE"
    ],
    [
      302,
      36,
      1,
      137,
      2,
      "CLIP"
    ],
    [
      303,
      36,
      2,
      137,
      3,
      "VAE"
    ],
    [
      304,
      43,
      0,
      137,
      4,
      "CONDITIONING"
    ],
    [
      305,
      39,
      0,
      137,
      5,
      "CONDITIONING"
    ],
    [
      307,
      13,
      0,
      143,
      0,
      "IMAGE"
    ],
    [
      308,
      143,
      0,
      132,
      0,
      "IMAGE"
    ],
    [
      309,
      36,
      0,
      151,
      0,
      "MODEL"
    ],
    [
      310,
      151,
      0,
      131,
      0,
      "MODEL"
    ],
    [
      311,
      151,
      0,
      137,
      1,
      "MODEL"
    ],
    [
      312,
      3,
      0,
      153,
      0,
      "MODEL"
    ],
    [
      313,
      153,
      0,
      7,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "id": 2,
      "title": "SDXL Refiner",
      "bounding": [
        3400,
        0,
        1690,
        1390
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Upscaler",
      "bounding": [
        2770,
        -250,
        560,
        230
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Face Detailer",
      "bounding": [
        4050,
        -1300,
        1040,
        1270
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Flux Generation",
      "bounding": [
        1060,
        0,
        2280,
        1390
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.544500000000012,
      "offset": [
        -988.2865021519514,
        632.708862108958
      ]
    },
    "frontendVersion": "1.23.4",
    "ue_links": [],
    "links_added_by_ue": [],
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}