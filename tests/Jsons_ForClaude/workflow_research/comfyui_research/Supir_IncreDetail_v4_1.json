{"id":"1e99d8c1-91c6-41be-9dd7-3136d62382de","revision":0,"last_node_id":517,"last_link_id":964,"nodes":[{"id":416,"type":"SUPIR_encode","pos":[2340,1065],"size":[210,126],"flags":{"collapsed":true},"order":36,"mode":2,"inputs":[{"localized_name":"SUPIR_VAE","name":"SUPIR_VAE","type":"SUPIRVAE","link":684},{"localized_name":"image","name":"image","type":"IMAGE","link":685},{"localized_name":"use_tiled_vae","name":"use_tiled_vae","type":"BOOLEAN","widget":{"name":"use_tiled_vae"},"link":null},{"localized_name":"encoder_tile_size","name":"encoder_tile_size","type":"INT","widget":{"name":"encoder_tile_size"},"link":697},{"localized_name":"encoder_dtype","name":"encoder_dtype","type":"COMBO","widget":{"name":"encoder_dtype"},"link":null}],"outputs":[{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":0,"links":[690]}],"title":"​","properties":{"cnr_id":"comfyui-supir","ver":"53fc4f82f139e0875e1f4f3716fbeafa073e4242","Node name for S&R":"SUPIR_encode","widget_ue_connectable":{"encoder_tile_size":true}},"widgets_values":[true,1024,"auto"],"color":"#000000","bgcolor":"#000000","shape":1},{"id":418,"type":"mxSlider","pos":[2340,120],"size":[420,30],"flags":{},"order":0,"mode":2,"inputs":[{"localized_name":"Xi","name":"Xi","type":"INT","widget":{"name":"Xi"},"link":null},{"localized_name":"Xf","name":"Xf","type":"FLOAT","widget":{"name":"Xf"},"link":null},{"localized_name":"isfloatX","name":"isfloatX","type":"INT","widget":{"name":"isfloatX"},"link":null}],"outputs":[{"localized_name":"","name":"","type":"INT","links":[695,696,697,698,699,700]}],"title":"Supir Tile Size","properties":{"cnr_id":"comfyui-mxtoolkit","ver":"d3333cca48025509932766ffda98e82050453118","Node name for S&R":"mxSlider","value":1024,"min":768,"max":1536,"step":32,"decimals":0,"snap":true,"widget_ue_connectable":{}},"widgets_values":[1024,1024,0],"color":"#000000","bgcolor":"#242424","shape":1},{"id":433,"type":"ImageResize+","pos":[600,1035],"size":[210,225],"flags":{"collapsed":true},"order":34,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":725},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":723},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":724},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"condition","name":"condition","type":"COMBO","widget":{"name":"condition"},"link":null},{"localized_name":"multiple_of","name":"multiple_of","type":"INT","widget":{"name":"multiple_of"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[726]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"title":"​","properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"ImageResize+","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[2560,3072,"lanczos","keep proportion","downscale if bigger",0],"bgcolor":"#000000","shape":1},{"id":432,"type":"mxSlider","pos":[510,915],"size":[420,30],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"Xi","name":"Xi","type":"INT","widget":{"name":"Xi"},"link":null},{"localized_name":"Xf","name":"Xf","type":"FLOAT","widget":{"name":"Xf"},"link":null},{"localized_name":"isfloatX","name":"isfloatX","type":"INT","widget":{"name":"isfloatX"},"link":null}],"outputs":[{"localized_name":"","name":"","type":"INT","links":[723,724]}],"title":"Input Resolution Limit","properties":{"cnr_id":"comfyui-mxtoolkit","ver":"d3333cca48025509932766ffda98e82050453118","Node name for S&R":"mxSlider","value":2048,"min":1024,"max":4096,"step":256,"decimals":0,"snap":true,"widget_ue_connectable":{}},"widgets_values":[2048,2048,0],"color":"#000000","bgcolor":"#242424","shape":1},{"id":242,"type":"Prompts Everywhere","pos":[1710,510],"size":[226.79998779296875,46],"flags":{"collapsed":true},"order":30,"mode":0,"inputs":[{"color_on":"#7CBB1A","label":"STRING","localized_name":"+ve","name":"+ve","shape":7,"type":"*","link":442},{"color_on":"#7CBB1A","label":"STRING","localized_name":"-ve","name":"-ve","shape":7,"type":"*","link":443}],"outputs":[],"title":"wifi Prompts","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Prompts Everywhere","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[],"bgcolor":"#161616","shape":1},{"id":341,"type":"MarkdownNote","pos":[-450,30],"size":[420,360],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"► Hello!","properties":{"widget_ue_connectable":{}},"widgets_values":["—Hi, this is RedPinkRetro, welcome to **SUPIR IncreDetail!**—\n\n► **SUPIR** is a very powerful detailing/image-restoration model, and can produce mind-blowing results, but usually requires some tweaking to do so,...<br>\nunless you have a setup that _**just works™**_\n\n\n### Features :\n\n- **Installation** and **download guide** for models and nodes\n- **Florence 2** and **WD14** for prompting assistance\n- **100 Steps to SUPIR — _Journey to become a better image_**\n\n<br>\n\nMore workflows like this can be found on my CivitAI page :\n\n   — [RedPinkRetro/models](https://civitai.com/user/redpinkretro/models)\n\n**Thank you for your support!**"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":423,"type":"ImageUpscaleWithModel","pos":[600,1065],"size":[210,46],"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"localized_name":"upscale_model","name":"upscale_model","type":"UPSCALE_MODEL","link":702},{"label":"input_image","localized_name":"image","name":"image","type":"IMAGE","link":726}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[704,707]}],"title":"​","properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"ImageUpscaleWithModel","widget_ue_connectable":{}},"widgets_values":[],"color":"#000000","bgcolor":"#000000","shape":1},{"id":246,"type":"Anything Everywhere?","pos":[2160,510],"size":[315,106],"flags":{"collapsed":true},"order":31,"mode":0,"inputs":[{"color_on":"#7CBB1A","label":"STRING","localized_name":"anything","name":"anything","shape":7,"type":"*","link":447},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"wifi tags","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[".*","tags",".*"],"bgcolor":"#161616","shape":1},{"id":435,"type":"Florence2Run","pos":[1425,1035],"size":[420,375],"flags":{"collapsed":true},"order":32,"mode":2,"inputs":[{"label":"input_image","localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":727},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","slot_index":2,"links":[963]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"Florence2Run","widget_ue_connectable":{}},"widgets_values":["","more_detailed_caption",true,false,256,64,true,"",13,"fixed",[false,true]],"color":"#460023","bgcolor":"#000000","shape":1},{"id":438,"type":"Text Multiline","pos":[1845,900],"size":[420,105],"flags":{"collapsed":false},"order":3,"mode":2,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[732]}],"title":"Tag Exclusion List","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Text Multiline","widget_ue_connectable":{}},"widgets_values":["artist_name, watermark, web_address, nose",[false,true]],"color":"#000000","bgcolor":"#000000","shape":1},{"id":409,"type":"SUPIR_decode","pos":[2490,1035],"size":[210,105],"flags":{"collapsed":true},"order":47,"mode":2,"inputs":[{"localized_name":"SUPIR_VAE","name":"SUPIR_VAE","type":"SUPIRVAE","link":null},{"localized_name":"latents","name":"latents","type":"LATENT","link":672},{"localized_name":"use_tiled_vae","name":"use_tiled_vae","type":"BOOLEAN","widget":{"name":"use_tiled_vae"},"link":null},{"localized_name":"decoder_tile_size","name":"decoder_tile_size","type":"INT","widget":{"name":"decoder_tile_size"},"link":699}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[674]}],"title":"​","properties":{"cnr_id":"comfyui-supir","ver":"53fc4f82f139e0875e1f4f3716fbeafa073e4242","Node name for S&R":"SUPIR_decode","widget_ue_connectable":{"decoder_tile_size":true}},"widgets_values":[true,1024],"color":"#000000","bgcolor":"#000000","shape":1},{"id":36,"type":"Image Comparer (rgthree)","pos":[2760,120],"size":[840,885],"flags":{"collapsed":false},"order":52,"mode":2,"inputs":[{"dir":3,"label":"input_image","name":"image_a","type":"IMAGE","link":null},{"dir":3,"label":"output_image","name":"image_b","type":"IMAGE","link":740}],"outputs":[],"title":"Before ↔ After","properties":{"cnr_id":"rgthree-comfy","ver":"32142fe476878a354dda6e2d4b5ea98960de3ced","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_mhleq_00001_.png&type=temp&subfolder=&preview=webp&rand=0.25077259170087585"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_mhleq_00002_.png&type=temp&subfolder=&preview=webp&rand=0.39044379480857905"}]],"color":"#000000","bgcolor":"#000000","shape":1},{"id":421,"type":"UpscaleModelLoader","pos":[510,825],"size":[420,60],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"label":" ","localized_name":"UPSCALE_MODEL","name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","slot_index":0,"links":[702]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"UpscaleModelLoader","widget_ue_connectable":{}},"widgets_values":["4x_NMKD-Siax_200k.pth"],"color":"#000000","bgcolor":"#000000","shape":1},{"id":303,"type":"Anything Everywhere?","pos":[780,1065],"size":[315,106],"flags":{"collapsed":true},"order":35,"mode":0,"inputs":[{"color_on":"#64B5F6","label":"IMAGE","localized_name":"anything","name":"anything","shape":7,"type":"*","link":734},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"wifi input_image","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[".*","input_image",".*"],"bgcolor":"#161616","shape":1},{"id":440,"type":"Anything Everywhere?","pos":[780,1095],"size":[315,106],"flags":{"collapsed":true},"order":50,"mode":0,"inputs":[{"color_on":"#64B5F6","label":"IMAGE","localized_name":"anything","name":"anything","shape":7,"type":"*","link":733},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"wifi prep_image","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[".*","prep_image",".*"],"bgcolor":"#161616","shape":1},{"id":321,"type":"Image Comparer (rgthree)","pos":[930,120],"size":[420,885],"flags":{"collapsed":false},"order":5,"mode":0,"inputs":[{"dir":3,"label":"input_image","name":"image_a","type":"IMAGE","link":null},{"dir":3,"label":"prep_image","name":"image_b","type":"IMAGE","link":null}],"outputs":[],"title":"Input ↔ Prep","properties":{"cnr_id":"rgthree-comfy","ver":"32142fe476878a354dda6e2d4b5ea98960de3ced","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_usoem_00001_.png&type=temp&subfolder=&preview=webp&rand=0.7725676325806771"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_usoem_00002_.png&type=temp&subfolder=&preview=webp&rand=0.9727101201092295"}]],"color":"#000000","bgcolor":"#000000","shape":1},{"id":162,"type":"Power Lora Loader (rgthree)","pos":[15,270],"size":[420,195],"flags":{"collapsed":false},"order":29,"mode":0,"inputs":[{"dir":3,"label":" ","name":"model","type":"MODEL","link":564},{"dir":3,"label":" ","name":"clip","type":"CLIP","link":228}],"outputs":[{"dir":4,"label":" ","name":"MODEL","shape":3,"type":"MODEL","slot_index":0,"links":[804]},{"dir":4,"label":" ","name":"CLIP","shape":3,"type":"CLIP","slot_index":1,"links":[805]}],"properties":{"cnr_id":"rgthree-comfy","ver":"32142fe476878a354dda6e2d4b5ea98960de3ced","Show Strengths":"Single Strength","widget_ue_connectable":{}},"widgets_values":[{},{"type":"PowerLoraLoaderHeaderWidget"},{},""],"color":"#000000","bgcolor":"#000000","shape":1},{"id":346,"type":"MarkdownNote","pos":[1425,1095],"size":[420,495],"flags":{"collapsed":true},"order":6,"mode":2,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["## Florence 2 Caption\n> captions **input_image** to create a basic prompt that likely needs only little tweaking to work nicely.\n\n- recommended model : **Florence-2-large**<br>\n→ ~1.5gb *(auto-download)*\n<br>\n\n### Settings of interest\n- **max_new_tokens**<br>\n→ tweak if you want shorter/longer captions\n<br>\n<br>\n\n## WD14 Tagger \n> tags the **input_image** to create a basic prompt that likely needs only little tweaking to work nicely.\n\n- recommended model : **wd-vit-tagger-v3**<br>\n→ ~370mb *(auto-download)*\n<br>\n### Settings of interest\n- **threshold**<br>\n→ lower values result in more tags with less accuracy<br>\n→ higher values output less tags with higher accuracy\n<br>\n\n- **character_threshold**<br>\n→ same as above regarding anime characters specifically"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":412,"type":"MathExpression|pysssss","pos":[2415,1065],"size":[210,133],"flags":{"collapsed":true},"order":27,"mode":2,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":700},{"localized_name":"b","name":"b","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"c","name":"c","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"expression","name":"expression","type":"INT,FLOAT,IMAGE,LATENT","widget":{"name":"expression"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[671]},{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":null}],"title":"​","properties":{"cnr_id":"comfyui-custom-scripts","ver":"2c09d59ab5ac27ac59022832bfde4eeeb9c55825","Node name for S&R":"MathExpression|pysssss","widget_ue_connectable":{}},"widgets_values":["a/2",[false,true]],"color":"#000000","bgcolor":"#000000","shape":1},{"id":301,"type":"Anything Everywhere?","pos":[270,720],"size":[315,148],"flags":{"collapsed":true},"order":43,"mode":0,"inputs":[{"color_on":"","label":"SUPIRMODEL","localized_name":"anything","name":"anything","shape":7,"type":"*","link":802},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"wifi SUPIR_model","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[".*","SUPIR_model",".*"],"bgcolor":"#161616","shape":1},{"id":302,"type":"Anything Everywhere?","pos":[270,750],"size":[315,106],"flags":{"collapsed":true},"order":44,"mode":0,"inputs":[{"color_on":"","label":"SUPIRVAE","localized_name":"anything","name":"anything","shape":7,"type":"*","link":803},{"localized_name":"title_regex","name":"title_regex","shape":7,"type":"STRING","widget":{"name":"title_regex"},"link":null},{"localized_name":"input_regex","name":"input_regex","shape":7,"type":"STRING","widget":{"name":"input_regex"},"link":null},{"localized_name":"group_regex","name":"group_regex","shape":7,"type":"STRING","widget":{"name":"group_regex"},"link":null}],"outputs":[],"title":"wifi SUPIR_VAE","properties":{"cnr_id":"cg-use-everywhere","ver":"8017bc6b063f45db6b986d9fc8bb76bd3234b838","Node name for S&R":"Anything Everywhere?","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[".*","SUPIR_VAE",".*"],"bgcolor":"#161616","shape":1},{"id":498,"type":"SUPIR_conditioner","pos":[2415,1035],"size":[210,141],"flags":{"collapsed":true},"order":37,"mode":2,"inputs":[{"localized_name":"SUPIR_model","name":"SUPIR_model","type":"SUPIRMODEL","link":null},{"localized_name":"latents","name":"latents","type":"LATENT","link":838},{"label":"tags","localized_name":"captions","name":"captions","shape":7,"type":"STRING","link":null},{"localized_name":"positive_prompt","name":"positive_prompt","type":"STRING","widget":{"name":"positive_prompt"},"link":null},{"localized_name":"negative_prompt","name":"negative_prompt","type":"STRING","widget":{"name":"negative_prompt"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"SUPIR_cond_pos","links":[839]},{"localized_name":"negative","name":"negative","type":"SUPIR_cond_neg","links":[840]}],"title":"​","properties":{"cnr_id":"comfyui-supir","ver":"29f2e8be0e9c32197ab6cf3a79a8c5776867d8f0","Node name for S&R":"SUPIR_conditioner","widget_ue_connectable":{"positive_prompt":true,"negative_prompt":true}},"widgets_values":["high quality, detailed, painting of a sci-fi angel","bad quality, blurry, messy","",[false,true]],"bgcolor":"#000000","shape":1},{"id":430,"type":"PrimitiveBoolean","pos":[510,735],"size":[420,60],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"BOOLEAN","widget":{"name":"value"},"link":null}],"outputs":[{"label":" ","localized_name":"BOOLEAN","name":"BOOLEAN","type":"BOOLEAN","links":[720]}],"title":"Keep Original Size?","properties":{"cnr_id":"comfy-core","ver":"0.3.29","Node name for S&R":"PrimitiveBoolean","widget_ue_connectable":{}},"widgets_values":[false],"color":"#c80064","bgcolor":"#000000","shape":1},{"id":311,"type":"WD14Tagger|pysssss","pos":[1845,1035],"size":[420,255],"flags":{"collapsed":true},"order":28,"mode":2,"inputs":[{"label":"input_image","localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"character_threshold","name":"character_threshold","type":"FLOAT","widget":{"name":"character_threshold"},"link":null},{"localized_name":"replace_underscore","name":"replace_underscore","type":"BOOLEAN","widget":{"name":"replace_underscore"},"link":null},{"localized_name":"trailing_comma","name":"trailing_comma","type":"BOOLEAN","widget":{"name":"trailing_comma"},"link":null},{"localized_name":"exclude_tags","name":"exclude_tags","type":"STRING","widget":{"name":"exclude_tags"},"link":732}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":[964]}],"properties":{"cnr_id":"comfyui-wd14-tagger","ver":"d33501765c5bf3dca6e90e0ebaa962890999fbc5","Node name for S&R":"WD14Tagger|pysssss","widget_ue_connectable":{"exclude_tags":true}},"widgets_values":["wd-vit-tagger-v3",0.35,1,false,false,"artist_name, watermark, web_address, nose"],"color":"#460023","bgcolor":"#000000","shape":1},{"id":410,"type":"ColorMatch","pos":[2340,675],"size":[420,330],"flags":{"collapsed":false},"order":49,"mode":2,"inputs":[{"label":"input_image","localized_name":"image_ref","name":"image_ref","type":"IMAGE","link":null},{"label":"output_image","localized_name":"image_target","name":"image_target","type":"IMAGE","link":674},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"strength","name":"strength","shape":7,"type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[730,740]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"68db110554d5f1d9bef8d027a111a49fd7f85e1b","Node name for S&R":"ColorMatch","widget_ue_connectable":{}},"widgets_values":["mkl",1],"color":"#c80064","bgcolor":"#000000","shape":1},{"id":408,"type":"SUPIR_sample","pos":[2340,180],"size":[420,465],"flags":{},"order":42,"mode":2,"inputs":[{"localized_name":"SUPIR_model","name":"SUPIR_model","type":"SUPIRMODEL","link":null},{"localized_name":"latents","name":"latents","type":"LATENT","link":690},{"localized_name":"positive","name":"positive","type":"SUPIR_cond_pos","link":839},{"localized_name":"negative","name":"negative","type":"SUPIR_cond_neg","link":840},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg_scale_start","name":"cfg_scale_start","type":"FLOAT","widget":{"name":"cfg_scale_start"},"link":null},{"localized_name":"cfg_scale_end","name":"cfg_scale_end","type":"FLOAT","widget":{"name":"cfg_scale_end"},"link":null},{"localized_name":"EDM_s_churn","name":"EDM_s_churn","type":"INT","widget":{"name":"EDM_s_churn"},"link":null},{"localized_name":"s_noise","name":"s_noise","type":"FLOAT","widget":{"name":"s_noise"},"link":null},{"localized_name":"DPMPP_eta","name":"DPMPP_eta","type":"FLOAT","widget":{"name":"DPMPP_eta"},"link":null},{"localized_name":"control_scale_start","name":"control_scale_start","type":"FLOAT","widget":{"name":"control_scale_start"},"link":null},{"localized_name":"control_scale_end","name":"control_scale_end","type":"FLOAT","widget":{"name":"control_scale_end"},"link":null},{"localized_name":"restore_cfg","name":"restore_cfg","type":"FLOAT","widget":{"name":"restore_cfg"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"sampler","name":"sampler","type":"COMBO","widget":{"name":"sampler"},"link":null},{"localized_name":"sampler_tile_size","name":"sampler_tile_size","shape":7,"type":"INT","widget":{"name":"sampler_tile_size"},"link":698},{"localized_name":"sampler_tile_stride","name":"sampler_tile_stride","shape":7,"type":"INT","widget":{"name":"sampler_tile_stride"},"link":671}],"outputs":[{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":0,"links":[672]}],"properties":{"cnr_id":"comfyui-supir","ver":"53fc4f82f139e0875e1f4f3716fbeafa073e4242","Node name for S&R":"SUPIR_sample","widget_ue_connectable":{"sampler_tile_size":true,"sampler_tile_stride":true}},"widgets_values":[131313,"fixed",100,4.5,7,5,1.0000000000000004,1,0.8999999999999999,0.98,6,false,"RestoreEDMSampler",1024,512],"color":"#000000","bgcolor":"#000000","shape":1},{"id":48,"type":"CheckpointLoaderSimple","pos":[15,120],"size":[420,120],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":" ","localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[227,564]},{"label":" ","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[228]},{"label":" ","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[806]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["xl_realvisxlV50_v50vae.safetensors"],"color":"#c80064","bgcolor":"#000000","shape":1},{"id":342,"type":"MarkdownNote","pos":[-450,435],"size":[420,420],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[],"outputs":[],"title":"Custom Nodes","properties":{"widget_ue_connectable":{}},"widgets_values":["## ► Custom Node Packs\n\n- [**ComfyUI-Custom-Scripts**](https://github.com/pythongosssss/ComfyUI-Custom-Scripts)\n<br>\n- [**ComfyUI-Florence2**](https://github.com/kijai/ComfyUI-Florence2)\n<br>\n- [**ComfyUI-Impact-Pack**](https://github.com/ltdrdata/ComfyUI-Impact-Pack)\n<br>\n- [**ComfyUI-KJNodes**](https://github.com/kijai/ComfyUI-KJNodes)\n<br>\n- [**comfyui-mxtoolkit**](https://github.com/Smirnov75/comfyui-mxtoolkit)\n<br>\n- [**ComfyUI-SUPIR**](https://github.com/kijai/ComfyUI-SUPIR)\n<br>\n- [**ComfyUI-WD14-Tagger**](https://github.com/pythongosssss/ComfyUI-WD14-Tagger)\n<br>\n- [**ComfyUI_essentials**](https://github.com/cubiq/ComfyUI_essentials)\n<br>\n- [**cg-use-everywhere**](https://github.com/chrisgoringe/cg-use-everywhere)\n<br>\n- [**rgthree-comfy**](https://github.com/rgthree/rgthree-comfy)\n<br>\n- [**was-node-suite-comfyui**](https://github.com/WASasquatch/was-node-suite-comfyui)"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":307,"type":"Fast Groups Muter (rgthree)","pos":[1425,-120],"size":[840,75],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"label":" ","name":"OPT_CONNECTION","type":"*","links":[]}],"title":"Prompt Support","properties":{"matchColors":"","matchTitle":"(Florence 2 Caption|WD14 Tagger)","showNav":false,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","widget_ue_connectable":{}},"color":"#c80064","bgcolor":"#000000","shape":1},{"id":474,"type":"SUPIR_model_loader_v2","pos":[15,495],"size":[420,195],"flags":{},"order":39,"mode":0,"inputs":[{"label":" ","localized_name":"model","name":"model","type":"MODEL","link":804},{"label":" ","localized_name":"clip","name":"clip","type":"CLIP","link":805},{"label":" ","localized_name":"vae","name":"vae","type":"VAE","link":806},{"localized_name":"supir_model","name":"supir_model","type":"COMBO","widget":{"name":"supir_model"},"link":null},{"localized_name":"fp8_unet","name":"fp8_unet","type":"BOOLEAN","widget":{"name":"fp8_unet"},"link":null},{"localized_name":"diffusion_dtype","name":"diffusion_dtype","type":"COMBO","widget":{"name":"diffusion_dtype"},"link":null},{"localized_name":"high_vram","name":"high_vram","shape":7,"type":"BOOLEAN","widget":{"name":"high_vram"},"link":null}],"outputs":[{"localized_name":"SUPIR_model","name":"SUPIR_model","type":"SUPIRMODEL","links":[802]},{"localized_name":"SUPIR_VAE","name":"SUPIR_VAE","type":"SUPIRVAE","links":[803]}],"properties":{"cnr_id":"comfyui-supir","ver":"29f2e8be0e9c32197ab6cf3a79a8c5776867d8f0","Node name for S&R":"SUPIR_model_loader_v2","widget_ue_connectable":{}},"widgets_values":["SUPIR-v0F_fp16.safetensors",false,"auto",false],"bgcolor":"#000000","shape":1},{"id":427,"type":"GetImageSize+","pos":[510,1035],"size":[214.20001220703125,66],"flags":{"collapsed":true},"order":33,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":715}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[718]},{"localized_name":"height","name":"height","type":"INT","links":[719]},{"localized_name":"count","name":"count","type":"INT","links":null}],"title":"​","properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","Node name for S&R":"GetImageSize+","widget_ue_connectable":{}},"widgets_values":[],"bgcolor":"#000000","shape":1},{"id":424,"type":"ImageResize+","pos":[690,1035],"size":[210,218],"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":704},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":718},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":719},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"condition","name":"condition","type":"COMBO","widget":{"name":"condition"},"link":null},{"localized_name":"multiple_of","name":"multiple_of","type":"INT","widget":{"name":"multiple_of"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[708]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"title":"​","properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"ImageResize+","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[1024,1024,"lanczos","keep proportion","always",0],"bgcolor":"#000000","shape":1},{"id":425,"type":"ImageResize+","pos":[690,1065],"size":[210,225],"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":707},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":721},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":722},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"condition","name":"condition","type":"COMBO","widget":{"name":"condition"},"link":null},{"localized_name":"multiple_of","name":"multiple_of","type":"INT","widget":{"name":"multiple_of"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[709]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"title":"​","properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"ImageResize+","widget_ue_connectable":{"width":true,"height":true}},"widgets_values":[2560,3072,"lanczos","keep proportion","downscale if bigger",16],"bgcolor":"#000000","shape":1},{"id":415,"type":"SUPIR_first_stage","pos":[2340,1035],"size":[420,170],"flags":{"collapsed":true},"order":26,"mode":2,"inputs":[{"localized_name":"SUPIR_VAE","name":"SUPIR_VAE","type":"SUPIRVAE","link":null},{"label":"prep_image","localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"use_tiled_vae","name":"use_tiled_vae","type":"BOOLEAN","widget":{"name":"use_tiled_vae"},"link":null},{"localized_name":"encoder_tile_size","name":"encoder_tile_size","type":"INT","widget":{"name":"encoder_tile_size"},"link":695},{"localized_name":"decoder_tile_size","name":"decoder_tile_size","type":"INT","widget":{"name":"decoder_tile_size"},"link":696},{"localized_name":"encoder_dtype","name":"encoder_dtype","type":"COMBO","widget":{"name":"encoder_dtype"},"link":null}],"outputs":[{"localized_name":"SUPIR_VAE","name":"SUPIR_VAE","type":"SUPIRVAE","slot_index":0,"links":[684]},{"localized_name":"denoised_image","name":"denoised_image","type":"IMAGE","slot_index":1,"links":[685]},{"localized_name":"denoised_latents","name":"denoised_latents","type":"LATENT","slot_index":2,"links":[838]}],"title":"​","properties":{"cnr_id":"comfyui-supir","ver":"53fc4f82f139e0875e1f4f3716fbeafa073e4242","Node name for S&R":"SUPIR_first_stage","widget_ue_connectable":{"encoder_tile_size":true,"decoder_tile_size":true}},"widgets_values":[true,1024,1024,"auto"],"color":"#000000","bgcolor":"#000000","shape":1},{"id":426,"type":"Image Input Switch","pos":[690,1095],"size":[210,78],"flags":{"collapsed":true},"order":48,"mode":0,"inputs":[{"localized_name":"image_a","name":"image_a","type":"IMAGE","link":708},{"localized_name":"image_b","name":"image_b","type":"IMAGE","link":709},{"label":"keep_orig_size","localized_name":"boolean","name":"boolean","type":"BOOLEAN","link":720}],"outputs":[{"label":"image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[733]}],"title":"​","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Image Input Switch","widget_ue_connectable":{}},"widgets_values":[],"bgcolor":"#000000","shape":1},{"id":431,"type":"mxSlider","pos":[510,975],"size":[420,30],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"Xi","name":"Xi","type":"INT","widget":{"name":"Xi"},"link":null},{"localized_name":"Xf","name":"Xf","type":"FLOAT","widget":{"name":"Xf"},"link":null},{"localized_name":"isfloatX","name":"isfloatX","type":"INT","widget":{"name":"isfloatX"},"link":null}],"outputs":[{"localized_name":"","name":"","type":"INT","links":[721,722]}],"title":"Max Resolution Limit","properties":{"cnr_id":"comfyui-mxtoolkit","ver":"d3333cca48025509932766ffda98e82050453118","Node name for S&R":"mxSlider","value":2560,"min":2048,"max":4096,"step":256,"decimals":0,"snap":true,"widget_ue_connectable":{}},"widgets_values":[2560,2560,0],"color":"#000000","bgcolor":"#242424","shape":1},{"id":313,"type":"Image Save","pos":[2625,1035],"size":[300,420],"flags":{"collapsed":true},"order":51,"mode":2,"inputs":[{"label":"output_image","localized_name":"images","name":"images","type":"IMAGE","link":730},{"localized_name":"output_path","name":"output_path","type":"STRING","widget":{"name":"output_path"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"filename_delimiter","name":"filename_delimiter","type":"STRING","widget":{"name":"filename_delimiter"},"link":null},{"localized_name":"filename_number_padding","name":"filename_number_padding","type":"INT","widget":{"name":"filename_number_padding"},"link":null},{"localized_name":"filename_number_start","name":"filename_number_start","type":"COMBO","widget":{"name":"filename_number_start"},"link":null},{"localized_name":"extension","name":"extension","type":"COMBO","widget":{"name":"extension"},"link":null},{"localized_name":"dpi","name":"dpi","type":"INT","widget":{"name":"dpi"},"link":null},{"localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"localized_name":"optimize_image","name":"optimize_image","type":"COMBO","widget":{"name":"optimize_image"},"link":null},{"localized_name":"lossless_webp","name":"lossless_webp","type":"COMBO","widget":{"name":"lossless_webp"},"link":null},{"localized_name":"overwrite_mode","name":"overwrite_mode","type":"COMBO","widget":{"name":"overwrite_mode"},"link":null},{"localized_name":"show_history","name":"show_history","type":"COMBO","widget":{"name":"show_history"},"link":null},{"localized_name":"show_history_by_prefix","name":"show_history_by_prefix","type":"COMBO","widget":{"name":"show_history_by_prefix"},"link":null},{"localized_name":"embed_workflow","name":"embed_workflow","type":"COMBO","widget":{"name":"embed_workflow"},"link":null},{"localized_name":"show_previews","name":"show_previews","type":"COMBO","widget":{"name":"show_previews"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","slot_index":0,"links":[]},{"localized_name":"files","name":"files","type":"STRING","links":null}],"title":"Save Image","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Image Save","widget_ue_connectable":{}},"widgets_values":["Supir_IncreDetail","Supir","_",4,"false","webp",300,100,"true","true","false","false","true","true","false"],"color":"#c80064","bgcolor":"hsla(0, 0%, 8.6%, 1)","shape":1},{"id":164,"type":"Text Multiline","pos":[1425,375],"size":[420,105],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[443]}],"title":"Negative Prompt","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Text Multiline","widget_ue_connectable":{}},"widgets_values":["blurry, noisy, jpeg artifacts, bad quality, lowres",true],"color":"#000000","bgcolor":"#000000","shape":1},{"id":163,"type":"Text Multiline","pos":[1425,120],"size":[420,225],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[442]}],"title":"Prompt","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Text Multiline","widget_ue_connectable":{}},"widgets_values":["",true],"color":"#c80064","bgcolor":"#000000","shape":1},{"id":182,"type":"Text Multiline","pos":[1845,120],"size":[420,360],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[447]}],"title":"Tags","properties":{"cnr_id":"pr-was-node-suite-comfyui-47064894","ver":"3ed45af34a14551dc28cb3127235cc7197d4633f","Node name for S&R":"Text Multiline","widget_ue_connectable":{}},"widgets_values":["",true],"color":"#000000","bgcolor":"#000000","shape":1},{"id":434,"type":"DownloadAndLoadFlorence2Model","pos":[1425,900],"size":[420,106],"flags":{},"order":15,"mode":2,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null}],"outputs":[{"label":" ","localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","slot_index":0,"links":[727]}],"properties":{"cnr_id":"comfyui-florence2","ver":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","Node name for S&R":"DownloadAndLoadFlorence2Model","widget_ue_connectable":{}},"widgets_values":["microsoft/Florence-2-large","fp16","sdpa"],"bgcolor":"#000000","shape":1},{"id":345,"type":"MarkdownNote","pos":[510,75],"size":[435,525],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["# Image Preprocessing\n\n> upscales the input image to the desired resolution using an upscale model\n\n<br>\n\n### Keep Original Image Size ?\n- when **true**: rescales the image back to its input resolution after upscaling via model\n<br>\n\n### Load Upscale Model\n- recommendation : **4x_NMKD-Siax_200k**\n<br>\n\n### Input Resolution Limit\n- ensures the image's long side does not exceed the limit<br>\n→ to prevent oom errors when multiplying that resolution with the upscaler\n<br>\n\n### Max Resolution Limit\n- the output size to be passed to the SUPIR sampler for detailing<br>\n→ SUPIR itself performs no further upscaling, this is the output resolution\n<br>\n\n### Input ↔ Prep\n> Preview to see how the upscaler handled the input"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":348,"type":"MarkdownNote","pos":[15,75],"size":[435,480],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["## Model Selection\n\n### Load Checkpoint\n- any **SDXL** checkpoint should work here<br>\n→ in general more realistic and detailed checkpoints work better, hence the strong recommendation for [RealVisXL V5.0](https://civitai.com/models/139562?modelVersionId=789646)\n\n<br>\n\n### Power Lora Loader (rgthree)\n- detail enhancing LoRAs can help the process additionally\n\n<br>\n\n### SUPIR Model Loader (v2)\n\n> For photo restoration tasks SUPIR-v0Q should perform better, but in my tests SUPIR-v0F always resulted in sharper images, which I preferred.<br>\nIt might just be a matter of tweaking, feel free to experiment.<br>\nImages with high quality to begin with should do better with SUPIR-v0F, as it deviates less from what is already there."],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":352,"type":"MarkdownNote","pos":[2340,75],"size":[435,345],"flags":{"collapsed":true},"order":18,"mode":2,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["### Supir Tile Size\n- used for en-/decoding as well as sampling\n\n<br>\n\n### SUPIR Sampler\n- contains the decode step as well as color correction\n<br>\n→ my recommended settings for reliable results<br>\n*the 100 steps of sampling do take time, but really pay off*\n\n<br>\n\n### Color Match\n- corrects any deviations from the original colors"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":353,"type":"MarkdownNote","pos":[2625,1095],"size":[420,300],"flags":{"collapsed":true},"order":19,"mode":2,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["## Saving\n\n### Save Image\n\n- saves the result\n<br>\n\n### ► Defaults\n  - **.webp** (lossless)\n  - **filename** → Supir_####\n  - **save location** → \"`ComfyUI\\output\\Supir_IncreDetail`\""],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":514,"type":"MarkdownNote","pos":[-885,30],"size":[420,690],"flags":{"collapsed":false},"order":20,"mode":0,"inputs":[],"outputs":[],"title":"► General Info","properties":{"widget_ue_connectable":{}},"widgets_values":["## Complete Overhaul\nSince ComfyUI began deprecation of group nodes **before** implementing the SubGraph feature which is supposed to replace it **soon**™, I had to disassemble all group nodes in all my workflows.\n<br>\n\n## New Version\nThe result is inevitably taking up more space and includes a \"little\" more wiring chaos than you might be used to from my workflows.\n<br>\n<br>\nHowever, this workflow is still nonetheless an **upgrade** to the previous versions in all areas except the *area* it takes up.\n<br>\n\n## Group Nodes\nAn advantage of group nodes was the ability to handle value ranges, calculations, metadata etc. without cluttering the view.<br>\nI also renamed various settings to better describe their function, while trying to shorten the labels in general.<br>\nOn top of that many settings which served barely any purpose, could be handled automatically or were irrelevant within the context they were in, could simply be hidden.\n<br>\n\n## Changes\nGoing forward I try to get all nodes that require no tweaking out of view, turn them nameless and stack them away.<br>\nThis means you can ignore all collapsed nodes as they won't need configuring. In case of unimportant but nice-to-have/personal preference type settings I will point them out and highlight the nodes subtly to make you aware of them; e.g. when fonts or colors can be tweaked as preferred.\n\n---\n\n## TLDR\n- Collapsed, nameless, black nodes can and should be ignored\n<br>\n- Optional, functionally unimportant settings will be mentioned and the nodes highlighted\n<br>\n- All ksamplers that are expanded only serve as a live-preview.<br>\n→ potentially exposed settings on them should be left alone\n"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":33,"type":"LoadImage","pos":[510,120],"size":[420,585],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[206,645,715,725,734]},{"label":" ","localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["example.png","image"],"color":"#c80064","bgcolor":"#000000","shape":1},{"id":317,"type":"Fast Groups Muter (rgthree)","pos":[2340,-120],"size":[420,75],"flags":{},"order":22,"mode":0,"inputs":[],"outputs":[{"label":" ","name":"OPT_CONNECTION","type":"*","links":[]}],"title":"SUPIR + Saving","properties":{"matchColors":"","matchTitle":"(SUPIR|^Result)","showNav":false,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","widget_ue_connectable":{}},"color":"#c80064","bgcolor":"#000000","shape":1},{"id":350,"type":"MarkdownNote","pos":[1425,75],"size":[420,435],"flags":{"collapsed":true},"order":23,"mode":0,"inputs":[],"outputs":[],"title":"► INFO","properties":{"widget_ue_connectable":{}},"widgets_values":["## Positive\n\n> regular positive prompt with more focus on details\n\n- if using a generated image, its original prompt would work as a good base\n<br>\n\n- alternatively use the image caption from **Florence 2** and copy/paste the results from **\"Preview Caption — Florence 2\"** here\n\n## Negative\n> regular negative, focusing more on quality tags rather than on general subject/composition related ones\n\n- the negative here is the one I use on all SUPIR runs focusing on details and quality, so it works for all cases\n\n\n---\n\n\n## Tags\n> The list of tags seem to be used as a list of hints for every detail the model can't identify with certainty during sampling. _(personal observation)_<br>\nThus tags can influence details of the image greatly.\n\n\n- copy/paste from **\"Preview Tags — WD14 Tagger\"** into the **\"Tags\"** textbox<br>\n→ edit to delete contradictory/wrong tags and add missing ones"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":515,"type":"ShowText|pysssss","pos":[1425,645],"size":[420,225],"flags":{},"order":40,"mode":2,"inputs":[{"label":" ","localized_name":"text","name":"text","type":"STRING","link":963}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"title":"Preview Caption — Florence 2","properties":{"cnr_id":"comfyui-custom-scripts","ver":"aac13aa7ce35b07d43633c3bbe654a38c00d74f5","Node name for S&R":"ShowText|pysssss","widget_ue_connectable":{}},"widgets_values":[],"color":"#c80064","bgcolor":"#111111","shape":1},{"id":516,"type":"ShowText|pysssss","pos":[1845,645],"size":[420,225],"flags":{},"order":38,"mode":2,"inputs":[{"label":" ","localized_name":"text","name":"text","type":"STRING","link":964}],"outputs":[{"label":" ","localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"title":"Preview Tags — WD14 Tagger","properties":{"cnr_id":"comfyui-custom-scripts","ver":"aac13aa7ce35b07d43633c3bbe654a38c00d74f5","Node name for S&R":"ShowText|pysssss","widget_ue_connectable":{}},"widgets_values":[],"color":"#c80064","bgcolor":"#111111","shape":1},{"id":517,"type":"MarkdownNote","pos":[-450,480],"size":[420,525],"flags":{"collapsed":true},"order":24,"mode":0,"inputs":[],"outputs":[],"title":"Downloads + Info","properties":{"widget_ue_connectable":{}},"widgets_values":["# ► Models\n\n## SUPIR Models\n  > Download via Manager\n\n1. Go to **ComfyUI Manager > Model Manager**<br>\n2. Type ***SUPIR*** into the search box\n<br>\n  → download the fp16.safetensor version by **Kijai** *(.ckpt may cause issues)*<br>\n\n   • **Kijai/SUPIR-v0Q_fp16.safetensors (pruned)** ~2.6GB<br>\n→ _\"High generalization and high image quality in most cases\"_\n<br>\n<br>\n   • **Kijai/SUPIR-v0F_fp16.safetensors (pruned)** ~2.6GB<br>\n→ _\"Retains more details when facing light degradations\"_\n<br>\n\n## SDXL Checkpoint → RealVisXL V5.0\n  → ComfyUI\\models\\checkpoints\n\n- [**RealVisXL V5.0**](https://civitai.com/models/139562?modelVersionId=789646) ~6.5GB\n<br>\n\n## Upscale Models (recommendations)\n  > Download via Manager\n\n1. Go to **ComfyUI Manager > Model Manager**\n<br>\n2. type the names into the search box\n<br>\n- **4x_NMKD_Siax_200k.pth**"],"color":"#6c002c","bgcolor":"#101010","shape":1},{"id":437,"type":"MarkdownNote","pos":[-450,630],"size":[420,150],"flags":{"collapsed":false},"order":25,"mode":0,"inputs":[],"outputs":[],"title":"Changelog","properties":{"widget_ue_connectable":{}},"widgets_values":["## v4\n- **many** changes to provide an efficient structure without the use of group nodes\n\n### v4.1\n- updated **Downloads + Info** guide"],"color":"#6c002c","bgcolor":"#101010","shape":1}],"links":[[228,48,1,162,1,"CLIP"],[256,47,1,14,0,"SUPIRVAE"],[257,131,0,14,1,"IMAGE"],[258,139,0,14,2,"INT"],[259,139,0,14,3,"INT"],[260,133,0,131,2,"BOOLEAN"],[261,33,0,142,0,"IMAGE"],[262,33,0,36,0,"IMAGE"],[263,139,0,19,2,"INT"],[264,33,0,99,0,"IMAGE"],[265,18,0,99,1,"IMAGE"],[266,33,0,135,0,"IMAGE"],[267,47,0,17,0,"SUPIRMODEL"],[268,182,0,17,2,"STRING"],[269,163,0,17,3,"STRING"],[270,164,0,17,4,"STRING"],[271,47,0,160,0,"SUPIRMODEL"],[272,139,0,160,4,"INT"],[273,33,0,130,0,"IMAGE"],[274,18,0,143,0,"IMAGE"],[275,47,1,18,0,"SUPIRVAE"],[276,139,0,18,2,"INT"],[278,47,1,14,0,"SUPIRVAE"],[279,131,0,14,1,"IMAGE"],[280,139,0,14,2,"INT"],[281,139,0,14,3,"INT"],[282,133,0,131,2,"BOOLEAN"],[283,33,0,142,0,"IMAGE"],[284,33,0,36,0,"IMAGE"],[285,139,0,19,2,"INT"],[286,33,0,99,0,"IMAGE"],[287,18,0,99,1,"IMAGE"],[288,33,0,135,0,"IMAGE"],[289,47,0,17,0,"SUPIRMODEL"],[290,182,0,17,2,"STRING"],[291,163,0,17,3,"STRING"],[292,164,0,17,4,"STRING"],[293,47,0,160,0,"SUPIRMODEL"],[294,139,0,160,4,"INT"],[295,33,0,130,0,"IMAGE"],[296,18,0,143,0,"IMAGE"],[297,47,1,18,0,"SUPIRVAE"],[298,139,0,18,2,"INT"],[299,47,1,14,0,"SUPIRVAE"],[300,131,0,14,1,"IMAGE"],[301,139,0,14,2,"INT"],[302,139,0,14,3,"INT"],[303,133,0,131,2,"BOOLEAN"],[304,33,0,142,0,"IMAGE"],[305,33,0,36,0,"IMAGE"],[306,139,0,19,2,"INT"],[307,33,0,99,0,"IMAGE"],[308,18,0,99,1,"IMAGE"],[309,33,0,135,0,"IMAGE"],[310,47,0,17,0,"SUPIRMODEL"],[311,182,0,17,2,"STRING"],[312,163,0,17,3,"STRING"],[313,164,0,17,4,"STRING"],[314,47,0,160,0,"SUPIRMODEL"],[315,139,0,160,4,"INT"],[316,33,0,130,0,"IMAGE"],[317,18,0,143,0,"IMAGE"],[318,47,1,18,0,"SUPIRVAE"],[319,139,0,18,2,"INT"],[320,47,1,14,0,"SUPIRVAE"],[321,131,0,14,1,"IMAGE"],[322,139,0,14,2,"INT"],[323,139,0,14,3,"INT"],[324,133,0,131,2,"BOOLEAN"],[325,33,0,142,0,"IMAGE"],[326,33,0,36,0,"IMAGE"],[327,139,0,19,2,"INT"],[328,33,0,99,0,"IMAGE"],[329,18,0,99,1,"IMAGE"],[330,33,0,135,0,"IMAGE"],[331,47,0,17,0,"SUPIRMODEL"],[332,182,0,17,2,"STRING"],[333,163,0,17,3,"STRING"],[334,164,0,17,4,"STRING"],[335,47,0,160,0,"SUPIRMODEL"],[336,139,0,160,4,"INT"],[337,33,0,130,0,"IMAGE"],[338,18,0,143,0,"IMAGE"],[339,47,1,18,0,"SUPIRVAE"],[340,139,0,18,2,"INT"],[353,47,1,14,0,"SUPIRVAE"],[354,131,0,14,1,"IMAGE"],[355,139,0,14,2,"INT"],[356,139,0,14,3,"INT"],[357,133,0,131,2,"BOOLEAN"],[358,139,0,19,2,"INT"],[359,213,0,135,0,"IMAGE"],[360,47,0,160,0,"SUPIRMODEL"],[361,139,0,160,4,"INT"],[362,213,0,130,0,"IMAGE"],[363,47,1,18,0,"SUPIRVAE"],[364,139,0,18,2,"INT"],[365,213,0,202,0,"IMAGE"],[366,18,0,203,0,"IMAGE"],[367,213,0,99,0,"IMAGE"],[368,18,0,99,1,"IMAGE"],[369,213,0,36,0,"IMAGE"],[370,47,0,17,0,"SUPIRMODEL"],[371,182,0,17,2,"STRING"],[372,163,0,17,3,"STRING"],[373,164,0,17,4,"STRING"],[377,47,1,14,0,"SUPIRVAE"],[378,131,0,14,1,"IMAGE"],[379,139,0,14,2,"INT"],[380,139,0,14,3,"INT"],[381,133,0,131,2,"BOOLEAN"],[382,139,0,19,2,"INT"],[383,47,0,160,0,"SUPIRMODEL"],[384,139,0,160,4,"INT"],[385,213,0,130,0,"IMAGE"],[386,213,0,57,0,"IMAGE"],[387,47,1,18,0,"SUPIRVAE"],[388,139,0,18,2,"INT"],[389,213,0,202,0,"IMAGE"],[390,18,0,203,0,"IMAGE"],[391,213,0,99,0,"IMAGE"],[392,18,0,99,1,"IMAGE"],[393,213,0,36,0,"IMAGE"],[394,47,0,17,0,"SUPIRMODEL"],[395,40,0,17,2,"STRING"],[396,163,0,17,3,"STRING"],[397,164,0,17,4,"STRING"],[398,213,0,135,0,"IMAGE"],[399,47,1,14,0,"SUPIRVAE"],[400,131,0,14,1,"IMAGE"],[401,139,0,14,2,"INT"],[402,139,0,14,3,"INT"],[403,133,0,131,2,"BOOLEAN"],[404,139,0,19,2,"INT"],[405,47,0,160,0,"SUPIRMODEL"],[406,139,0,160,4,"INT"],[407,213,0,130,0,"IMAGE"],[408,47,1,18,0,"SUPIRVAE"],[409,139,0,18,2,"INT"],[410,213,0,202,0,"IMAGE"],[411,18,0,203,0,"IMAGE"],[412,213,0,99,0,"IMAGE"],[413,18,0,99,1,"IMAGE"],[414,213,0,36,0,"IMAGE"],[415,47,0,17,0,"SUPIRMODEL"],[416,40,0,17,2,"STRING"],[417,163,0,17,3,"STRING"],[418,164,0,17,4,"STRING"],[419,213,0,135,0,"IMAGE"],[420,213,0,57,0,"IMAGE"],[421,47,1,14,0,"SUPIRVAE"],[422,131,0,14,1,"IMAGE"],[423,139,0,14,2,"INT"],[424,139,0,14,3,"INT"],[425,133,0,131,2,"BOOLEAN"],[426,139,0,19,2,"INT"],[427,213,0,130,0,"IMAGE"],[428,47,1,18,0,"SUPIRVAE"],[429,139,0,18,2,"INT"],[430,213,0,202,0,"IMAGE"],[431,18,0,203,0,"IMAGE"],[432,213,0,99,0,"IMAGE"],[433,18,0,99,1,"IMAGE"],[434,213,0,36,0,"IMAGE"],[435,47,0,17,0,"SUPIRMODEL"],[436,182,0,17,2,"STRING"],[437,163,0,17,3,"STRING"],[438,164,0,17,4,"STRING"],[439,213,0,135,0,"IMAGE"],[440,47,0,160,0,"SUPIRMODEL"],[441,139,0,160,4,"INT"],[442,163,0,242,0,"STRING"],[443,164,0,242,1,"STRING"],[447,182,0,246,0,"STRING"],[564,48,0,162,0,"MODEL"],[671,412,0,408,17,"INT"],[672,408,0,409,1,"LATENT"],[674,409,0,410,1,"IMAGE"],[684,415,0,416,0,"SUPIRVAE"],[685,415,1,416,1,"IMAGE"],[690,416,0,408,1,"LATENT"],[695,418,0,415,3,"INT"],[696,418,0,415,4,"INT"],[697,418,0,416,3,"INT"],[698,418,0,408,16,"INT"],[699,418,0,409,3,"INT"],[700,418,0,412,0,"INT,FLOAT,IMAGE,LATENT"],[702,421,0,423,0,"UPSCALE_MODEL"],[704,423,0,424,0,"IMAGE"],[707,423,0,425,0,"IMAGE"],[708,424,0,426,0,"IMAGE"],[709,425,0,426,1,"IMAGE"],[715,33,0,427,0,"IMAGE"],[718,427,0,424,1,"INT"],[719,427,1,424,2,"INT"],[720,430,0,426,2,"BOOLEAN"],[721,431,0,425,1,"INT"],[722,431,0,425,2,"INT"],[723,432,0,433,1,"INT"],[724,432,0,433,2,"INT"],[725,33,0,433,0,"IMAGE"],[726,433,0,423,1,"IMAGE"],[727,434,0,435,1,"FL2MODEL"],[730,410,0,313,0,"IMAGE"],[732,438,0,311,6,"STRING"],[733,426,0,440,0,"IMAGE"],[734,33,0,303,0,"IMAGE"],[740,410,0,36,1,"IMAGE"],[802,474,0,301,0,"SUPIRMODEL"],[803,474,1,302,0,"SUPIRVAE"],[804,162,0,474,0,"MODEL"],[805,162,1,474,1,"CLIP"],[806,48,2,474,2,"VAE"],[838,415,2,498,1,"LATENT"],[839,498,0,408,2,"SUPIR_cond_pos"],[840,498,1,408,3,"SUPIR_cond_neg"],[963,435,2,515,0,"STRING"],[964,311,0,516,0,"STRING"]],"groups":[{"id":1,"title":"General Settings","bounding":[0,0,450,768.5999755859375],"color":"#424242","font_size":24,"flags":{}},{"id":3,"title":"SUPIR + Saving","bounding":[2325,0,1290,1113.5999755859375],"color":"#424242","font_size":24,"flags":{}},{"id":6,"title":"Prompt + Tags","bounding":[1410,0,870,528.5999755859375],"color":"#424242","font_size":24,"flags":{}},{"id":7,"title":"Image Settings","bounding":[495,0,870,1113.5999755859375],"color":"#424242","font_size":24,"flags":{}},{"id":12,"title":"Florence 2 Caption + WD14 Tagger","bounding":[1410,570,870,543.5999755859375],"color":"#424242","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.31300863965506626,"offset":[1276.9458056228038,1242.3361531269138]},"workspace_info":{"id":"3fc75fb4-77bb-4d39-bcf7-001381682a54"},"ue_links":[{"downstream":321,"downstream_slot":0,"upstream":"33","upstream_slot":0,"controller":303,"type":"IMAGE"},{"downstream":321,"downstream_slot":1,"upstream":"426","upstream_slot":0,"controller":440,"type":"IMAGE"}],"groupNodes":{},"links_added_by_ue":[934,935,936,937,938,939,940,941,942,943,944,945],"frontendVersion":"1.19.5"},"version":0.4}