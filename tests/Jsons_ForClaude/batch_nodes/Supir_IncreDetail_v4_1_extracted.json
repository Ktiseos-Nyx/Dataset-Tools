[
    {
        "id": 1,
        "name": "General Settings"
    },
    {
        "id": 3,
        "name": "SUPIR + Saving"
    },
    {
        "id": 6,
        "name": "Prompt + Tags"
    },
    {
        "id": 7,
        "name": "Image Settings"
    },
    {
        "id": 12,
        "name": "Florence 2 Caption + WD14 Tagger"
    },
    {
        "id": 33,
        "name": "LoadImage",
        "prompts": {
            "text": "example.png"
        }
    },
    {
        "id": 36,
        "name": "Image Comparer (rgthree)"
    },
    {
        "id": 48,
        "name": "CheckpointLoaderSimple",
        "prompts": {
            "text": "xl_realvisxlV50_v50vae.safetensors"
        }
    },
    {
        "id": 162,
        "name": "Power Lora Loader (rgthree)"
    },
    {
        "id": 163,
        "name": "Text Multiline"
    },
    {
        "id": 164,
        "name": "Text Multiline",
        "prompts": {
            "text": "blurry, noisy, jpeg artifacts, bad quality, lowres"
        }
    },
    {
        "id": 182,
        "name": "Text Multiline"
    },
    {
        "id": 242,
        "name": "Prompts Everywhere"
    },
    {
        "id": 246,
        "name": "Anything Everywhere?"
    },
    {
        "id": 301,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "SUPIR_model"
        }
    },
    {
        "id": 302,
        "name": "Anything Everywhere?"
    },
    {
        "id": 303,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "input_image"
        }
    },
    {
        "id": 307,
        "name": "Fast Groups Muter (rgthree)"
    },
    {
        "id": 311,
        "name": "WD14Tagger|pysssss",
        "prompts": {
            "text": "wd-vit-tagger-v3",
            "text_2": "artist_name, watermark, web_address, nose"
        }
    },
    {
        "id": 313,
        "name": "Image Save",
        "prompts": {
            "text": "Supir_IncreDetail"
        }
    },
    {
        "id": 317,
        "name": "Fast Groups Muter (rgthree)"
    },
    {
        "id": 321,
        "name": "Image Comparer (rgthree)"
    },
    {
        "id": 341,
        "name": "MarkdownNote",
        "prompts": {
            "text": "\u2014Hi, this is RedPinkRetro, welcome to **SUPIR IncreDetail!**\u2014\n\n\u25ba **SUPIR** is a very powerful detailing/image-restoration model, and can produce mind-blowing results, but usually requires some tweaking to do so,...<br>\nunless you have a setup that _**just works\u2122**_\n\n\n### Features :\n\n- **Installation** and **download guide** for models and nodes\n- **Florence 2** and **WD14** for prompting assistance\n- **100 Steps to SUPIR \u2014 _Journey to become a better image_**\n\n<br>\n\nMore workflows like this can be found on my CivitAI page :\n\n   \u2014 [RedPinkRetro/models](https://civitai.com/user/redpinkretro/models)\n\n**Thank you for your support!**"
        }
    },
    {
        "id": 342,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## \u25ba Custom Node Packs\n\n- [**ComfyUI-Custom-Scripts**](https://github.com/pythongosssss/ComfyUI-Custom-Scripts)\n<br>\n- [**ComfyUI-Florence2**](https://github.com/kijai/ComfyUI-Florence2)\n<br>\n- [**ComfyUI-Impact-Pack**](https://github.com/ltdrdata/ComfyUI-Impact-Pack)\n<br>\n- [**ComfyUI-KJNodes**](https://github.com/kijai/ComfyUI-KJNodes)\n<br>\n- [**comfyui-mxtoolkit**](https://github.com/Smirnov75/comfyui-mxtoolkit)\n<br>\n- [**ComfyUI-SUPIR**](https://github.com/kijai/ComfyUI-SUPIR)\n<br>\n- [**ComfyUI-WD14-Tagger**](https://github.com/pythongosssss/ComfyUI-WD14-Tagger)\n<br>\n- [**ComfyUI_essentials**](https://github.com/cubiq/ComfyUI_essentials)\n<br>\n- [**cg-use-everywhere**](https://github.com/chrisgoringe/cg-use-everywhere)\n<br>\n- [**rgthree-comfy**](https://github.com/rgthree/rgthree-comfy)\n<br>\n- [**was-node-suite-comfyui**](https://github.com/WASasquatch/was-node-suite-comfyui)"
        }
    },
    {
        "id": 345,
        "name": "MarkdownNote",
        "prompts": {
            "text": "# Image Preprocessing\n\n> upscales the input image to the desired resolution using an upscale model\n\n<br>\n\n### Keep Original Image Size ?\n- when **true**: rescales the image back to its input resolution after upscaling via model\n<br>\n\n### Load Upscale Model\n- recommendation : **4x_NMKD-Siax_200k**\n<br>\n\n### Input Resolution Limit\n- ensures the image's long side does not exceed the limit<br>\n\u2192 to prevent oom errors when multiplying that resolution with the upscaler\n<br>\n\n### Max Resolution Limit\n- the output size to be passed to the SUPIR sampler for detailing<br>\n\u2192 SUPIR itself performs no further upscaling, this is the output resolution\n<br>\n\n### Input \u2194 Prep\n> Preview to see how the upscaler handled the input"
        }
    },
    {
        "id": 346,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## Florence 2 Caption\n> captions **input_image** to create a basic prompt that likely needs only little tweaking to work nicely.\n\n- recommended model : **Florence-2-large**<br>\n\u2192 ~1.5gb *(auto-download)*\n<br>\n\n### Settings of interest\n- **max_new_tokens**<br>\n\u2192 tweak if you want shorter/longer captions\n<br>\n<br>\n\n## WD14 Tagger \n> tags the **input_image** to create a basic prompt that likely needs only little tweaking to work nicely.\n\n- recommended model : **wd-vit-tagger-v3**<br>\n\u2192 ~370mb *(auto-download)*\n<br>\n### Settings of interest\n- **threshold**<br>\n\u2192 lower values result in more tags with less accuracy<br>\n\u2192 higher values output less tags with higher accuracy\n<br>\n\n- **character_threshold**<br>\n\u2192 same as above regarding anime characters specifically"
        }
    },
    {
        "id": 348,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## Model Selection\n\n### Load Checkpoint\n- any **SDXL** checkpoint should work here<br>\n\u2192 in general more realistic and detailed checkpoints work better, hence the strong recommendation for [RealVisXL V5.0](https://civitai.com/models/139562?modelVersionId=789646)\n\n<br>\n\n### Power Lora Loader (rgthree)\n- detail enhancing LoRAs can help the process additionally\n\n<br>\n\n### SUPIR Model Loader (v2)\n\n> For photo restoration tasks SUPIR-v0Q should perform better, but in my tests SUPIR-v0F always resulted in sharper images, which I preferred.<br>\nIt might just be a matter of tweaking, feel free to experiment.<br>\nImages with high quality to begin with should do better with SUPIR-v0F, as it deviates less from what is already there."
        }
    },
    {
        "id": 350,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## Positive\n\n> regular positive prompt with more focus on details\n\n- if using a generated image, its original prompt would work as a good base\n<br>\n\n- alternatively use the image caption from **Florence 2** and copy/paste the results from **\"Preview Caption \u2014 Florence 2\"** here\n\n## Negative\n> regular negative, focusing more on quality tags rather than on general subject/composition related ones\n\n- the negative here is the one I use on all SUPIR runs focusing on details and quality, so it works for all cases\n\n\n---\n\n\n## Tags\n> The list of tags seem to be used as a list of hints for every detail the model can't identify with certainty during sampling. _(personal observation)_<br>\nThus tags can influence details of the image greatly.\n\n\n- copy/paste from **\"Preview Tags \u2014 WD14 Tagger\"** into the **\"Tags\"** textbox<br>\n\u2192 edit to delete contradictory/wrong tags and add missing ones"
        }
    },
    {
        "id": 352,
        "name": "MarkdownNote",
        "prompts": {
            "text": "### Supir Tile Size\n- used for en-/decoding as well as sampling\n\n<br>\n\n### SUPIR Sampler\n- contains the decode step as well as color correction\n<br>\n\u2192 my recommended settings for reliable results<br>\n*the 100 steps of sampling do take time, but really pay off*\n\n<br>\n\n### Color Match\n- corrects any deviations from the original colors"
        }
    },
    {
        "id": 353,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## Saving\n\n### Save Image\n\n- saves the result\n<br>\n\n### \u25ba Defaults\n  - **.webp** (lossless)\n  - **filename** \u2192 Supir_####\n  - **save location** \u2192 \"`ComfyUI\\output\\Supir_IncreDetail`\""
        }
    },
    {
        "id": 408,
        "name": "SUPIR_sample",
        "prompts": {
            "text": "RestoreEDMSampler"
        }
    },
    {
        "id": 409,
        "name": "SUPIR_decode"
    },
    {
        "id": 410,
        "name": "ColorMatch"
    },
    {
        "id": 412,
        "name": "MathExpression|pysssss"
    },
    {
        "id": 415,
        "name": "SUPIR_first_stage"
    },
    {
        "id": 416,
        "name": "SUPIR_encode"
    },
    {
        "id": 418,
        "name": "mxSlider"
    },
    {
        "id": 421,
        "name": "UpscaleModelLoader",
        "prompts": {
            "text": "4x_NMKD-Siax_200k.pth"
        }
    },
    {
        "id": 423,
        "name": "ImageUpscaleWithModel"
    },
    {
        "id": 424,
        "name": "ImageResize+",
        "prompts": {
            "text": "keep proportion"
        }
    },
    {
        "id": 425,
        "name": "ImageResize+",
        "prompts": {
            "text": "keep proportion",
            "text_2": "downscale if bigger"
        }
    },
    {
        "id": 426,
        "name": "Image Input Switch"
    },
    {
        "id": 427,
        "name": "GetImageSize+"
    },
    {
        "id": 430,
        "name": "PrimitiveBoolean"
    },
    {
        "id": 431,
        "name": "mxSlider"
    },
    {
        "id": 432,
        "name": "mxSlider"
    },
    {
        "id": 433,
        "name": "ImageResize+",
        "prompts": {
            "text": "keep proportion",
            "text_2": "downscale if bigger"
        }
    },
    {
        "id": 434,
        "name": "DownloadAndLoadFlorence2Model",
        "prompts": {
            "text": "microsoft/Florence-2-large"
        }
    },
    {
        "id": 435,
        "name": "Florence2Run",
        "prompts": {
            "text": "more_detailed_caption"
        }
    },
    {
        "id": 437,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## v4\n- **many** changes to provide an efficient structure without the use of group nodes\n\n### v4.1\n- updated **Downloads + Info** guide"
        }
    },
    {
        "id": 438,
        "name": "Text Multiline",
        "prompts": {
            "text": "artist_name, watermark, web_address, nose"
        }
    },
    {
        "id": 440,
        "name": "Anything Everywhere?"
    },
    {
        "id": 474,
        "name": "SUPIR_model_loader_v2",
        "prompts": {
            "text": "SUPIR-v0F_fp16.safetensors"
        }
    },
    {
        "id": 498,
        "name": "SUPIR_conditioner",
        "prompts": {
            "text": "high quality, detailed, painting of a sci-fi angel",
            "text_2": "bad quality, blurry, messy"
        }
    },
    {
        "id": 514,
        "name": "MarkdownNote",
        "prompts": {
            "text": "## Complete Overhaul\nSince ComfyUI began deprecation of group nodes **before** implementing the SubGraph feature which is supposed to replace it **soon**\u2122, I had to disassemble all group nodes in all my workflows.\n<br>\n\n## New Version\nThe result is inevitably taking up more space and includes a \"little\" more wiring chaos than you might be used to from my workflows.\n<br>\n<br>\nHowever, this workflow is still nonetheless an **upgrade** to the previous versions in all areas except the *area* it takes up.\n<br>\n\n## Group Nodes\nAn advantage of group nodes was the ability to handle value ranges, calculations, metadata etc. without cluttering the view.<br>\nI also renamed various settings to better describe their function, while trying to shorten the labels in general.<br>\nOn top of that many settings which served barely any purpose, could be handled automatically or were irrelevant within the context they were in, could simply be hidden.\n<br>\n\n## Changes\nGoing forward I try to get all nodes that require no tweaking out of view, turn them nameless and stack them away.<br>\nThis means you can ignore all collapsed nodes as they won't need configuring. In case of unimportant but nice-to-have/personal preference type settings I will point them out and highlight the nodes subtly to make you aware of them; e.g. when fonts or colors can be tweaked as preferred.\n\n---\n\n## TLDR\n- Collapsed, nameless, black nodes can and should be ignored\n<br>\n- Optional, functionally unimportant settings will be mentioned and the nodes highlighted\n<br>\n- All ksamplers that are expanded only serve as a live-preview.<br>\n\u2192 potentially exposed settings on them should be left alone\n"
        }
    },
    {
        "id": 515,
        "name": "ShowText|pysssss"
    },
    {
        "id": 516,
        "name": "ShowText|pysssss"
    },
    {
        "id": 517,
        "name": "MarkdownNote",
        "prompts": {
            "text": "# \u25ba Models\n\n## SUPIR Models\n  > Download via Manager\n\n1. Go to **ComfyUI Manager > Model Manager**<br>\n2. Type ***SUPIR*** into the search box\n<br>\n  \u2192 download the fp16.safetensor version by **Kijai** *(.ckpt may cause issues)*<br>\n\n   \u2022 **Kijai/SUPIR-v0Q_fp16.safetensors (pruned)** ~2.6GB<br>\n\u2192 _\"High generalization and high image quality in most cases\"_\n<br>\n<br>\n   \u2022 **Kijai/SUPIR-v0F_fp16.safetensors (pruned)** ~2.6GB<br>\n\u2192 _\"Retains more details when facing light degradations\"_\n<br>\n\n## SDXL Checkpoint \u2192 RealVisXL V5.0\n  \u2192 ComfyUI\\models\\checkpoints\n\n- [**RealVisXL V5.0**](https://civitai.com/models/139562?modelVersionId=789646) ~6.5GB\n<br>\n\n## Upscale Models (recommendations)\n  > Download via Manager\n\n1. Go to **ComfyUI Manager > Model Manager**\n<br>\n2. type the names into the search box\n<br>\n- **4x_NMKD_Siax_200k.pth**"
        }
    }
]