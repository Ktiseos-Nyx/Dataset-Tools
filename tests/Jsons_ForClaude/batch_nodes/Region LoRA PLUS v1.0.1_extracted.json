[
    {
        "id": 3503,
        "name": "workflow/Prompt Preset Selector",
        "prompts": {
            "text": "0) None\n1) Character (booru)\n2) Score (for some pony ckpts)",
            "text_2": "Prompt Presets"
        }
    },
    {
        "id": 3570,
        "name": "workflow/Size Selector",
        "prompts": {
            "text": "Set 0\n 512 x 1280  (1) Portrait\n 576 x 1080  (2)\n 640 x 960   (3)\n 704 x 832   (4)\n 768 x 768   (5) Square\n 832 x 704   (6) Landscape\n 960 x 640   (7)\n1080 x 576   (8)\n1280 x 512   (9)",
            "text_2": "Set 1 - XL\n 640 x 1536  (1) Portrait\n 768 x 1344  (2)\n 832 x 1216  (3)\n 896 x 1152  (4)\n1024 x 1024  (5) Square\n1152 x 896   (6) Landscape\n1216 x 832   (7)\n1344 x 768   (8)\n1536 x 640   (9)"
        }
    },
    {
        "id": 3721,
        "name": "workflow/Prompt"
    },
    {
        "id": 4039,
        "name": "workflow/Prompt Preset Selector",
        "prompts": {
            "text": "0) None\n1) Character (booru)\n2) Score (for some pony ckpts)",
            "text_2": "Prompt Presets"
        }
    },
    {
        "id": 4423,
        "name": "ImageSender"
    },
    {
        "id": 4425,
        "name": "ImageReceiver",
        "prompts": {
            "text": "ImgSender_temp_jqsog_00001_.png [temp]"
        }
    },
    {
        "id": 4508,
        "name": "PreviewImage"
    },
    {
        "id": 4532,
        "name": "workflow/1st Pass",
        "prompts": {
            "text": "euler_ancestral",
            "text_2": "a*(1-b)*c + a*(1-c)\n"
        }
    },
    {
        "id": 5101,
        "name": "PlaySound|pysssss"
    },
    {
        "id": 5103,
        "name": "Note",
        "prompts": {
            "text": "This workflow allows you to create an arbitrary number of regions on the canvas. Each region is sampled separately allowing for use of different LoRA models for each regions achieving their complete separation - a lora in region A will have 0 influence on any other region.\nTo keep the image consistent and allow for interaction between LoRA characters, openpose ControlNet is used. For convenience, instead of inputting a prepared image you can use pregenerate one instead in group I using a realistic checkpoint so that the OpenPose Preprocessor may have an easy time extracting a proper pose image.\nBecause each region is sampled separately, the generation time will be increased proportionally to their number.\n\n#############################################################################\n ---------------------------------HOW TO USE---------------------------------\n#############################################################################\n(You will get a some errors using this workflow, some parts are a bit hacky, so it's just a part of how it works)\n\nA) Pre-generating a pose\n 1) Mute groups II and III (right-click -> Set Group Notes to Never)\n 2) Generate images focusing on the desired pose\n\nOR\n\nB) Load pose\n 1) Mute groups I and III\n 2) Connect the 'Image Load and Resize to Width' node into group II as described on note next to it\n\n 3) If the pose wasn't detected properly, go back to step #1\n 4) Mute group I, unmute group II\n 5) Queue prompt, wait for preprocessor to finish and for picures to appear in Subject nodes\n 6) Repeat for each 'Subject' node: right-click -> Open in MaskEditor -> paint mask (mostly follow the detected pose, not the background image, that is only for orientation)\n 7) Unmute group III\n 8) Queue prompt\n\n- When masking in step 6, if a character partially covers another, for example an arm going around them in a hug, it's better to not overlap the masks\n- Sometimes you need to queue and cancel twice to see effects (eg. after drawing masks for the combined preview to update properly)\n- when in MaskEditor: scroll resizes the brush and right-click is an eraser\n- instead of muting group I, it is enough to mute just the 1st Pass group node with ctrl+m\n- for more information on specific parts of the workflow refer to attached notes"
        }
    },
    {
        "id": 5105,
        "name": "Note",
        "prompts": {
            "text": "Most important here are descriptions of poses, interactions, framing and perspective. Only the Pose image extracted from this will be used later with ControlNet"
        }
    },
    {
        "id": 5107,
        "name": "Note",
        "prompts": {
            "text": "Use checkpoints that are good at composition and poses and have a style that is easy for the OpenPose Preprocessor to extract poses from. The more realistic the better generally"
        }
    },
    {
        "id": 5108,
        "name": "Note",
        "prompts": {
            "text": "The 'REGIONAL_PROMPTS' output on each subject should be connected to the 'CombineRegionalPrompts' node in Group III.\nAdd more subjects if needed by cloning them. It's the simplest to insert in between existing ones.\nBypass (ctrl+b) unneeded subjects if you don't want to delete them outright. If you don't paint a mask on one, you'll get an error."
        }
    },
    {
        "id": 5110,
        "name": "Note",
        "prompts": {
            "text": "The OpenPose Preprocessor is always 1 step behind the Image Receiver, just queue once more and cancel after it updates\n\nIf the image bugs out, change detection settings -> queue, wait for the node to execute -> change settings back -> queue\n\nBy masking parts of the image here you can erase those parts from the pose image passed to ControlNet\n\nThe overlay image in subject nodes won't change to reflect the area masked here. I just couldn't get it to work properly :/\nYou can hook up a preview node to pose output to see if it's working"
        }
    },
    {
        "id": 5116,
        "name": "Note",
        "prompts": {
            "text": "When using an SDXL-based checkpoint, set 1 will be forced. Those are the values that SDXL has been trained on, so they're the best fit for it.\n\nYou can freely add new presets. The first 2 numbers in each line are used (1st- width, 2nd - height. You can write anything after that, and anything that isn't a number before and between the two numbers.\n\nTo add sets, you need to convert to nodes, copy one of the set nodes and connect it's output to the text list node. If you run out of connections, use a text list concatenate node"
        }
    },
    {
        "id": 5118,
        "name": "Note",
        "prompts": {
            "text": "The selected preset is concatenated in front of the main prompt\n\nWhen adding new presets, they should be separated by a \"#\" character\nThe preset text should begin any number of new lines below. The line with '#' and all subsequent empty lines are removed before combining with the main prompt\n"
        }
    },
    {
        "id": 5119,
        "name": "Note",
        "prompts": {
            "text": "The selected preset is concatenated in front of the main prompt\n\nWhen adding new presets, they should be separated by a \"#\" character\nThe preset text should begin any number of new lines below. The line with '#' and all subsequent empty lines are removed before combining with the main prompt\n"
        }
    },
    {
        "id": 5120,
        "name": "Note",
        "prompts": {
            "text": "1st Pass uses regional sampling to separate the LoRA influence.\n\nDue to a lack of upscaling options for REGIONAL_PROPTS as of now, this cannot be done after upscaling the image if the number of regions is unknown ahead of time.\nBecause of that, 2nd Pass uses simpler regional conditioning so there will be no LoRA for regions at this stage. Low denoising is recommended to keep character features, though if you were to use high denoising, you can opt to keep controlnet guidance in the upscaling node."
        }
    },
    {
        "id": 5268,
        "name": "workflow/OpenPose Preprocessor",
        "prompts": {
            "text": "$undefined-0"
        }
    },
    {
        "id": 5461,
        "name": "workflow/Workflow Mode Control"
    },
    {
        "id": 5555,
        "name": "ShowText|pysssss",
        "prompts": {
            "text": "768 x 768  =>  1024 x 1024"
        }
    },
    {
        "id": 5556,
        "name": "workflow/Image Load and Resize to Width",
        "prompts": {
            "text": "example.png",
            "text_2": "floor(((a*(b.height/b.width))/8))*8"
        }
    },
    {
        "id": 5557,
        "name": "Note",
        "prompts": {
            "text": "Instead of generating an image, you can load one here and pass it into the preprocessor for photos or the pose and overlay inputs that the output of the preprocessor goes to for openpose images.\n\nBy setting width you can resize to the loaded image to that width while keeping its proportions.\n\nThe original and final size will be outputted on the 'Size info' pin and can be inspected with a 'show text' node.\n(it has to be separate from the group node as the field is not displayed if included in a group node)"
        }
    },
    {
        "id": 5622,
        "name": "Note",
        "prompts": {
            "text": "In automatic mode, will output true if the filename of the loaded checkpoint contains 'XL' (case insensitive), otherwise will output 'false'.\nIn manual, will output the value of the second widget.\nThis influences the function of some nodes wherever some modification is needed for XL checkpoints like using a secondary sampler with a refiner"
        }
    },
    {
        "id": 6153,
        "name": "CombineRegionalPrompts"
    },
    {
        "id": 6247,
        "name": "workflow/Loaders",
        "prompts": {
            "text": "SD15 [2D] donutholemix_v10.safetensors",
            "text_2": "kl-f8-anime2.ckpt"
        }
    },
    {
        "id": 6253,
        "name": "ImpactFloat"
    },
    {
        "id": 6254,
        "name": "PrimitiveNode",
        "prompts": {
            "text": "exponential"
        }
    },
    {
        "id": 6255,
        "name": "KSamplerSelect"
    },
    {
        "id": 6256,
        "name": "ImpactSchedulerAdapter",
        "prompts": {
            "text": "exponential"
        }
    },
    {
        "id": 6296,
        "name": "workflow/Base Sampler",
        "prompts": {
            "text": "SD15\\Style\\Hitoimim_v10.safetensors",
            "text_2": "SD15\\Style\\Hitoimim_v10.safetensors"
        }
    },
    {
        "id": 6483,
        "name": "workflow/Subject",
        "prompts": {
            "text": "SD15\\Style\\Hitoimim_v10.safetensors",
            "text_2": "SD15\\Style\\Hitoimim_v10.safetensors"
        }
    },
    {
        "id": 6484,
        "name": "workflow/Subject",
        "prompts": {
            "text": "SD15\\Style\\Hitoimim_v10.safetensors",
            "text_2": "SD15\\Style\\Hitoimim_v10.safetensors"
        }
    },
    {
        "id": 6652,
        "name": "workflow/Upscale (Image/Cond/-CN)",
        "prompts": {
            "text": "4x-UltraSharp.pth"
        }
    },
    {
        "id": 6671,
        "name": "workflow/1st Pass (RegSampler)",
        "prompts": {
            "text": "ratio between",
            "text_2": "exponential"
        }
    },
    {
        "id": 6696,
        "name": "workflow/2nd Pass",
        "prompts": {
            "text": "euler_ancestral",
            "text_2": "incremental"
        }
    },
    {
        "id": 6697,
        "name": "PreviewImage"
    },
    {
        "id": 6698,
        "name": "workflow/Subject",
        "prompts": {
            "text": "SD15\\Style\\Hitoimim_v10.safetensors",
            "text_2": "SD15\\Style\\Hitoimim_v10.safetensors"
        }
    },
    {
        "id": 6699,
        "name": "Note",
        "prompts": {
            "text": "To use the scheduler from the primitive node 'Scheduler', set 'Impact Scheduler Adapter' (ISA) to 'None'\n\nISA allows you to also use the Align Your Steps scheduler, each version is for a different version of Stable Diffusion, so since this workflow works for SD1.X only, choose 'AYS SD1'\n\nSome samplers may not work too well with regional sampling"
        }
    },
    {
        "id": 6744,
        "name": "Note",
        "prompts": {
            "text": "A simple copy of whatever you put in group I is enough, you can also specify some background elements, but know that this along with the prompt preset is concatenated in front of every subject prompt so try to keep it to general tags like 'indoors' and leave the smaller elements like 'window' to subjects"
        }
    },
    {
        "id": 6802,
        "name": "Note",
        "prompts": {
            "text": "The sde sampler and uni_pc sampler introduce additional noise during each step of the sampling process. To mitigate this, when sampling each region, the uni_pc sampler applies additional dpmpp_fast, and the sde sampler applies the dpmpp_2m sampler as an additional measure."
        }
    },
    {
        "id": 6852,
        "name": "workflow/Mine::Loaders (SD1.X/XL)",
        "prompts": {
            "text": "SD15 [2D] donutholemix_v10.safetensors",
            "text_2": "sd_xl_refiner_1.0_0.9vae.safetensors"
        }
    },
    {
        "id": 6853,
        "name": "workflow/Mine::Loaders (SD1.X/XL/Simple LoRA)",
        "prompts": {
            "text": "SD15 [2D] donutholemix_v10.safetensors",
            "text_2": "sd_xl_refiner_1.0_0.9vae.safetensors"
        }
    }
]