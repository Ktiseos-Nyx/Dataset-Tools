[
    {
        "id": 3,
        "name": "VAELoader",
        "prompts": {
            "text": "sdxl_vae.safetensors"
        }
    },
    {
        "id": 6,
        "name": "EmptyLatentImage"
    },
    {
        "id": 65,
        "name": "VAEDecode"
    },
    {
        "id": 128,
        "name": "PixArtResolutionSelect",
        "prompts": {
            "text": "PixArtMS_Sigma_XL_2"
        }
    },
    {
        "id": 144,
        "name": "T5v11Loader",
        "prompts": {
            "text": "t5-v1_1-xxl-fp16\\model-00001-of-00002.safetensors"
        }
    },
    {
        "id": 157,
        "name": "PreviewImage"
    },
    {
        "id": 159,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 160,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 162,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "Latent shape torch.Size([1, 4, 144, 104])"
        }
    },
    {
        "id": 190,
        "name": "PixArtCheckpointLoaderSimple",
        "prompts": {
            "text": "pixart_extramodePixartSigma_v20.safetensors"
        }
    },
    {
        "id": 196,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "Tensor shape torch.Size([1, 1152, 832, 3])"
        }
    },
    {
        "id": 240,
        "name": "SamplerCustom"
    },
    {
        "id": 241,
        "name": "BasicScheduler"
    },
    {
        "id": 242,
        "name": "KSamplerSelect",
        "prompts": {
            "text": "dpmpp_3m_sde"
        }
    },
    {
        "id": 243,
        "name": "AlignYourStepsScheduler"
    },
    {
        "id": 334,
        "name": "ControlNetApplyAdvanced"
    },
    {
        "id": 335,
        "name": "KSampler",
        "prompts": {
            "text": "euler_ancestral_cfg_pp"
        }
    },
    {
        "id": 337,
        "name": "VAEDecode"
    },
    {
        "id": 338,
        "name": "PreviewImage"
    },
    {
        "id": 339,
        "name": "Image Comparer (rgthree)"
    },
    {
        "id": 345,
        "name": "ControlNetLoader",
        "prompts": {
            "text": "control_v11f1e_sd15_tile.pth"
        }
    },
    {
        "id": 346,
        "name": "VAEEncode"
    },
    {
        "id": 347,
        "name": "ImageScaleBy"
    },
    {
        "id": 348,
        "name": "CheckpointLoaderSimple",
        "prompts": {
            "text": "xl_creaprompt_Lightning_Ultimate_v4.safetensors"
        }
    },
    {
        "id": 349,
        "name": "CLIPSetLastLayer"
    },
    {
        "id": 350,
        "name": "Power Lora Loader (rgthree)"
    },
    {
        "id": 353,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "<comfy.sd.CLIP object at 0x0000015153BBE230>"
        }
    },
    {
        "id": 354,
        "name": "Text Multiline",
        "prompts": {
            "text": "a portrait photo of a goth girl apprentice necromancer with white hair styled in twin buns on top with bangs framing her face. She has fair skin in stark contrast to the dark eyeshadow and lipstick. Her piercing pink eyes are looking directly at the camera. Her expression is mischievous with a teasing one-sided smirk. She is wearing a black leather top with studs and metal applications, adorned with small chains. Blurry tombstones and crypts in the background atmospherically underline the foggy scene's eerie ominous light."
        }
    },
    {
        "id": 356,
        "name": "Text Multiline",
        "prompts": {
            "text": "ordinary image, symmetrical composition, overexposed, watermark, signature, logo, url"
        }
    },
    {
        "id": 361,
        "name": "T5TextEncode"
    },
    {
        "id": 362,
        "name": "T5TextEncode"
    },
    {
        "id": 382,
        "name": "VAEDecode"
    },
    {
        "id": 383,
        "name": "PreviewImage"
    },
    {
        "id": 384,
        "name": "ImageScaleBy"
    },
    {
        "id": 385,
        "name": "VAEEncode"
    },
    {
        "id": 386,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "Tensor shape torch.Size([1, 1728, 1248, 3])"
        }
    },
    {
        "id": 387,
        "name": "Image Comparer (rgthree)"
    },
    {
        "id": 401,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "[[tensor([[[ 8.4492e-02,  1.3851e-02,  4.9964e-02,  ..., -1.1635e-01,  9.4020e-02, -5.8863e-02],\n         [-1.8700e-01,  1.1116e-01,  5.1465e-02,  ..., -1.9286e-01,  5.9065e-03, -1.9491e-02],\n         [ 9.8922e-02,  1.1123e-02,  9.3334e-02,  ...,  8.3234e-02, -5.7073e-02,  4.3799e-02],\n         ...,\n         [ 3.2394e-03, -1.6294e-02, -1.4624e-01,  ...,  1.8914e-01,  7.6925e-03,  2.9506e-03],\n         [-1.3115e-01, -2.8816e-02,  1.3454e-02,  ..., -5.7357e-02,  9.8566e-02,  5.0102e-03],\n         [-5.0569e-03, -8.3790e-03,  2.9059e-05,  ..., -5.7602e-03,  7.0542e-03,  2.7866e-03]]]), {}]]"
        }
    },
    {
        "id": 402,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "[[tensor([[[-0.1317,  0.1569,  0.0577,  ...,  0.0235,  0.0676, -0.0446],\n         [ 0.1250, -0.0661,  0.1792,  ...,  0.0018,  0.1201,  0.0077],\n         [-0.1689,  0.0492,  0.0224,  ...,  0.0197,  0.0780, -0.0920],\n         ...,\n         [ 0.1947,  0.0791,  0.0434,  ...,  0.0858,  0.0570, -0.0220],\n         [ 0.0153,  0.0256, -0.0885,  ..., -0.0513, -0.0834, -0.0543],\n         [-0.0064, -0.0081,  0.0011,  ..., -0.0063,  0.0067,  0.0027]]]), {}]]"
        }
    },
    {
        "id": 403,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "[[tensor([[[-3.8154, -2.4437,  4.2937,  ...,  0.1964,  0.3970, -0.2896],\n         [ 0.1234, -0.6356, -0.4730,  ...,  0.6672, -0.0087, -0.2010],\n         [ 1.7001,  0.3585,  0.6412,  ...,  0.3104,  0.1986, -0.2025],\n         ...,\n         [ 0.1875,  0.8271, -0.4936,  ..., -0.2093,  0.4327,  0.9228],\n         [ 0.1942,  0.8434, -0.4970,  ..., -0.2373,  0.3761,  0.9585],\n         [ 0.1122,  0.8098, -0.4558,  ..., -0.1637,  0.4898,  0.8283]]]), {'pooled_output': tensor([[-0.2648,  0.9721, -0.1348,  ..., -0.9557, -0.7971, -0.1901]])}]]"
        }
    },
    {
        "id": 404,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "[[tensor([[[-3.8154e+00, -2.4437e+00,  4.2937e+00,  ...,  1.9637e-01,  3.9700e-01, -2.8964e-01],\n         [ 1.0396e-01, -3.8806e-01, -2.0990e-01,  ..., -8.2950e-01,  5.3793e-01, -3.2183e-01],\n         [ 9.4919e-02,  4.2077e-01,  9.5076e-01,  ...,  1.2477e-01, -4.7049e-01, -1.0951e-01],\n         ...,\n         [ 2.4971e-01, -3.9811e-02, -6.2142e-01,  ..., -3.9724e-02,  1.5381e-01,  5.9599e-01],\n         [ 2.4935e-01, -2.8754e-02, -6.3710e-01,  ..., -1.4786e-01,  4.7356e-02,  5.4494e-01],\n         [ 3.0795e-01,  3.8589e-03, -6.6639e-01,  ...,  4.6720e-02,  1.3031e-01,  6.0439e-01]]]), {'pooled_output': tensor([[-0.9317,  0.4608,  1.1069,  ..., -0.5600,  0.8034,  0.6425]])}]]"
        }
    },
    {
        "id": 409,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "<comfy.sd.VAE object at 0x0000015156BDA050>"
        }
    },
    {
        "id": 410,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "PixArt_model",
            "text_2": "<comfy.model_patcher.ModelPatcher object at 0x00000151526BAB00>"
        }
    },
    {
        "id": 411,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "<comfy.model_patcher.ModelPatcher object at 0x0000015153BBD570>"
        }
    },
    {
        "id": 427,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "<comfy.sd.VAE object at 0x0000015156BD9180>"
        }
    },
    {
        "id": 428,
        "name": "TilePreprocessor"
    },
    {
        "id": 433,
        "name": "Text Multiline",
        "prompts": {
            "text": "(semi-realistic, cgi, 3d, render, sketch, cartoon, drawing, anime, mutated hands and fingers, bad quality, worst quality:1.4), (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, disconnected limbs, mutation, mutated, ugly, disgusting, amputation"
        }
    },
    {
        "id": 439,
        "name": "CLIPTextEncode"
    },
    {
        "id": 440,
        "name": "CLIPTextEncode"
    },
    {
        "id": 464,
        "name": "KSampler",
        "prompts": {
            "text": "euler_ancestral_cfg_pp"
        }
    },
    {
        "id": 474,
        "name": "Anything Everywhere?",
        "prompts": {
            "text": "<ComfyUI_ExtraModels.T5.loader.EXM_T5v11 object at 0x00000151526BA9E0>"
        }
    },
    {
        "id": 489,
        "name": "LoraLoaderModelOnly",
        "prompts": {
            "text": "acc\\pcm_normalcfg_8step_converted.safetensors"
        }
    },
    {
        "id": 491,
        "name": "ControlNetLoader",
        "prompts": {
            "text": "tile_ttplanetXL_v20Rank256.safetensors"
        }
    },
    {
        "id": 493,
        "name": "TTPlanet_TileSimple_Preprocessor"
    },
    {
        "id": 494,
        "name": "Image Save",
        "prompts": {
            "text": "[time(%Y-%m-%d)]"
        }
    },
    {
        "id": 533,
        "name": "VAE Input Switch"
    },
    {
        "id": 539,
        "name": "Logic Boolean Primitive"
    },
    {
        "id": 540,
        "name": "Anything Everywhere?"
    },
    {
        "id": 543,
        "name": "Text Input Switch"
    },
    {
        "id": 548,
        "name": "Power Lora Loader (rgthree)"
    },
    {
        "id": 550,
        "name": "Model Input Switch"
    },
    {
        "id": 551,
        "name": "LoraLoaderModelOnly",
        "prompts": {
            "text": "acc\\xl_pcm_smallcfg_8step_converted.safetensors"
        }
    },
    {
        "id": 552,
        "name": "CLIP Input Switch"
    },
    {
        "id": 553,
        "name": "Image Input Switch"
    },
    {
        "id": 554,
        "name": "Control Net Model Input Switch"
    },
    {
        "id": 556,
        "name": "Note",
        "prompts": {
            "text": "\u2022 The 'PixArt Resolution Select' node only has ratios to choose from, which might be confusing for some. The number is simply the ratio of the width to the height and is in the same ballpark as SDXL's resolutions.\n\n   \u2192 ratio < 1 = portrait\n   \u2192 ratio > 1 = landscape\n   \u2192 ratio = 1 = square"
        }
    },
    {
        "id": 557,
        "name": "Note",
        "prompts": {
            "text": "v1 \u2014 initial release\n"
        }
    },
    {
        "id": 558,
        "name": "Note",
        "prompts": {
            "text": "\u2022 There are not many PixArt finetunes out yet, but they seem to be easier to train than SDXL models, so hopefully we'll get to see more in time.\n\n\u2022 The ones I've tried all produced great results, so I can only recommend them all and encourage you to test them yourself.\n\nTwistedReality\n\u2014 https://civitai.com/models/522164?modelVersionId=627741\n\nextraMODE\n\u2014 https://civitai.com/models/477673/extramode-pixart-sigma\n\nPixelWaveSigma\n\u2014 https://civitai.com/models/502097/pixelwavesigma"
        }
    },
    {
        "id": 559,
        "name": "Note",
        "prompts": {
            "text": "\u2014Hello and thanks for downloading this workflow!\u2014\n\n\u2022 Out of curiosity for the PixArt models I built a few workflows to try it out and found the prompt adherence as well as its style to be really noticeable and unique. Some prompts I've written months ago never really came out in SD generations, but now, for the first time, managed to.\n\n\u2022 Unfortunately img2img and upscaling are not really great options at this point, not with PixArt only that is. While the UltimateSDUpscale node was quite capable of producing higher resolutions without the image falling apart, it still looked overly smooth and usually misproportioned.\n\n\u2022 The simple solution to that is to only generate the 1st pass with PixArt and then use SD models further refine the image, similar to the refiner of SDXL in its early days.\n\n\u2022 SDXL and SD15 both work great as refiners for PixArt and I definitely recommend trying out both.\n\n\u2022 I've built the workflow with that in mind and facilitated the switch between SD15/SDXL models down to the literal virtual flick of a switch"
        }
    },
    {
        "id": 560,
        "name": "Note",
        "prompts": {
            "text": "\u2022 To run PixArt models in ComfyUI you need the custom node pack \"ComfyUI_ExtraModels\", as well as the T5 text encoder, which is what allows PixArt to really shine with its prompt adherence.\n\nThe \"ExtraModels\" github :\n\n\u2014 https://github.com/city96/ComfyUI_ExtraModels\n\n\u2022 The T5 text encoder I would recommend is the FP16 version as it has \"only\" ~10GB total size compared to the FP32 with ~20GB and neglibly subtle differences.\n\nAnother option is to use the T5 encoder SD3 uses, in case you have that.\nIt is only ~5GB in size, but produces noticeably different results, so I don't use it. \n\nThis link takes you to the passage with links to the files as well as instructions on where to put those :\n\n\u2014 https://github.com/city96/ComfyUI_ExtraModels?tab=readme-ov-file#t5\n\n\n"
        }
    },
    {
        "id": 561,
        "name": "Note",
        "prompts": {
            "text": "Personal recommendation PCM:\n\n\u2014 https://github.com/G-U-N/Phased-Consistency-Model\n\u2014 https://huggingface.co/wangfuyun/PCM_Weights/tree/main\n\nThe 4-step and 8-step versions with low- and normal-cfg I've tested and use regularly.\n\nI used the 8-step normal-cfg version a lot with this workflow.\n\u2192 settings  :\n   \u2022 sampler   : euler_ancestral_cfg_pp \n   \u2022 scheduler : normal \n   \u2022 steps     : 8\n   \u2022 cfg       : ~2.0"
        }
    },
    {
        "id": 563,
        "name": "Note",
        "prompts": {
            "text": "\u2022 To keep the images intact in their upscaled state, I usually always plug in tile controlnets to avoid duplications and such that occur, when the pixel-area exceeds the model's scope of context.\n\n\nSDXL tile controlnet :\n\n\u2014 https://civitai.com/models/330313?modelVersionId=560349\n\n\nSD15 tile controlnet :\n\n\u2014 https://civitai.com/models/38784?modelVersionId=67566\n\n\n\u2022 The models can be found through the ComfyUI Manager \"Model Manager\" search as well."
        }
    },
    {
        "id": 564,
        "name": "Note",
        "prompts": {
            "text": "\u2022 This is the toggle to flick if you want to switch between SDXL and SD15 checkpoints. Simply select your checkpoint and set the toggle correspondingly.\n\n\u2022 All 'xyz Input' nodes throughout the workflow serve the purpose of splitting the path for SDXL/SD15 and are controlled by this switch.\n\n\u2022 Additionally there are two sets of accelerator and regular LoRA loaders prepared corresponding to SDXL and SD15 to keep them separate for convenience.\n"
        }
    },
    {
        "id": 571,
        "name": "workflow/VAE Stack",
        "prompts": {
            "text": "sdxl_vae.safetensors",
            "text_2": "vae-ft-mse-840000-ema-pruned.ckpt"
        }
    },
    {
        "id": 572,
        "name": "Note",
        "prompts": {
            "text": "\u2022 This is the \"VAE Stack\" group node, which allows loading separate VAE for SDXL and SD15 as well as piping through the VAE from the checkpoint, in case it has one baked in.\n\n\u2022 Connect the \"Checkpoint VAE\" output directly to the \"wifi SD_vae\" node to use the checkpoint's VAE by default"
        }
    },
    {
        "id": 573,
        "name": "Note",
        "prompts": {
            "text": "\u2022 PixArt-\u03a3's latent encode/decode works uses the default SDXL VAE, in case you wonder."
        }
    },
    {
        "id": 574,
        "name": "Note",
        "prompts": {
            "text": "\u2022 Prompt adherence is PixArt's strong suit and works especially well with natural language prompts beyond the scope you typically dare use with SDXL or SD15 prompting, not to mention the tag-based Pony models.\n\n\u2022 Feel free to test out some more verbose illustrations of the scene you imagine and you'll be surprised how much closer PixArt gets it compared to SD models\n\n\u2022 The reason I've prepared two negative prompts is due to SD15's idiosyncracies in negatives, whereas SDXL usually doesn't need anywhere near as much. PixArt shares the same negative as SDXL in this case. "
        }
    },
    {
        "id": 575,
        "name": "Note",
        "prompts": {
            "text": "\u2022 This is where the PixArt magic happens. \n\n\u2022 Set up like this with the AYS scheduler worked best for me, but might be different for you depending on the PixArt model you use."
        }
    },
    {
        "id": 576,
        "name": "Note",
        "prompts": {
            "text": "\u2022 The save node is preset to output .webp files at quality setting 97, which saves a lot of drive space and looks perfectly fine to me.\n\n\u2022 So make sure to change its settings according to your preferences \n"
        }
    },
    {
        "id": 583,
        "name": "ControlNetApplyAdvanced"
    },
    {
        "id": 584,
        "name": "ControlNetLoader",
        "prompts": {
            "text": "control_v11f1e_sd15_tile.pth"
        }
    },
    {
        "id": 585,
        "name": "TilePreprocessor"
    },
    {
        "id": 586,
        "name": "ControlNetLoader",
        "prompts": {
            "text": "tile_ttplanetXL_v20Rank256.safetensors"
        }
    },
    {
        "id": 587,
        "name": "TTPlanet_TileSimple_Preprocessor"
    },
    {
        "id": 588,
        "name": "Image Input Switch"
    },
    {
        "id": 589,
        "name": "Control Net Model Input Switch"
    },
    {
        "id": 596,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 597,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 598,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 599,
        "name": "Display Int (rgthree)"
    },
    {
        "id": 602,
        "name": "Image Size to Number"
    },
    {
        "id": 603,
        "name": "Image Size to Number"
    },
    {
        "id": 607,
        "name": "Image Size to Number"
    },
    {
        "id": 608,
        "name": "Note",
        "prompts": {
            "text": "\u2022 Also note that there are 'Image Comparer' nodes set right above the 'Preview Image' nodes, so you can minimize/maximize the comparer as you see fit.\n"
        }
    }
]